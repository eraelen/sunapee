<!DOCTYPE html>
<html>
<head>
  <title>ws.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../../../doc-style.css" />
  <script src="../../../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../../../", thisFile = "node_modules/socket.io/node_modules/socket.io-client/node_modules/ws/doc/ws.md", defaultSidebar = true;
  </script>
  <script src="../../../../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#ws">ws</a>
      </div>
      <div class="heading h2">
        <a href="#class--ws.server">Class: ws.Server</a>
      </div>
      <div class="heading h3">
        <a href="#new-ws.server--options----callback--">new ws.Server([options], [callback])</a>
      </div>
      <div class="heading h3">
        <a href="#server.close--code----data--">server.close([code], [data])</a>
      </div>
      <div class="heading h3">
        <a href="#server.handleupgrade-request--socket--upgradehead--callback-">server.handleUpgrade(request, socket, upgradeHead, callback)</a>
      </div>
      <div class="heading h3">
        <a href="#event---error-">Event: 'error'</a>
      </div>
      <div class="heading h3">
        <a href="#event---headers-">Event: 'headers'</a>
      </div>
      <div class="heading h3">
        <a href="#event---connection-">Event: 'connection'</a>
      </div>
      <div class="heading h2">
        <a href="#class--ws.websocket">Class: ws.WebSocket</a>
      </div>
      <div class="heading h3">
        <a href="#new-ws.websocket-address---options--">new ws.WebSocket(address, [options])</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.bytesreceived">websocket.bytesReceived</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.readystate">websocket.readyState</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.protocolversion">websocket.protocolVersion</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.url">websocket.url</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.supports">websocket.supports</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.close--code----data--">websocket.close([code], [data])</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.pause--">websocket.pause()</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.ping--data----options----dontfailwhenclosed--">websocket.ping([data], [options], [dontFailWhenClosed])</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.pong--data----options----dontfailwhenclosed--">websocket.pong([data], [options], [dontFailWhenClosed])</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.resume--">websocket.resume()</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.send-data---options----callback--">websocket.send(data, [options], [callback])</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.stream--options---callback-">websocket.stream([options], callback)</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.terminate--">websocket.terminate()</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.onopen">websocket.onopen</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.onerror">websocket.onerror</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.onclose">websocket.onclose</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.onmessage">websocket.onmessage</a>
      </div>
      <div class="heading h3">
        <a href="#websocket.addeventlistener-method--listener-">websocket.addEventListener(method, listener)</a>
      </div>
      <div class="heading h3">
        <a href="#event---error-">Event: 'error'</a>
      </div>
      <div class="heading h3">
        <a href="#event---close-">Event: 'close'</a>
      </div>
      <div class="heading h3">
        <a href="#event---message-">Event: 'message'</a>
      </div>
      <div class="heading h3">
        <a href="#event---ping-">Event: 'ping'</a>
      </div>
      <div class="heading h3">
        <a href="#event---pong-">Event: 'pong'</a>
      </div>
      <div class="heading h3">
        <a href="#event---open-">Event: 'open'</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="docs markdown">
<div class="pilwrap" id="ws">
  <h1>
    <a href="#ws" class="pilcrow">&#182;</a>
    ws
  </h1>
</div>



<div class="pilwrap" id="class--ws.server">
  <h2>
    <a href="#class--ws.server" class="pilcrow">&#182;</a>
    Class: ws.Server
  </h2>
</div>


<p>This class is a WebSocket server. It is an <code>EventEmitter</code>.</p>


<div class="pilwrap" id="new-ws.server--options----callback--">
  <h3>
    <a href="#new-ws.server--options----callback--" class="pilcrow">&#182;</a>
    new ws.Server([options], [callback])
  </h3>
</div>


<ul>
<li><code>options</code> Object
<ul><li><code>host</code> String</li>
<li><code>port</code> Number</li>
<li><code>server</code> http.Server</li>
<li><code>verifyClient</code> Function</li>
<li><code>path</code> String</li>
<li><code>noServer</code> Boolean</li>
<li><code>disableHixie</code> Boolean</li>
<li><code>clientTracking</code> Boolean</li></ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Construct a new server object.</p>

<p>Either <code>port</code> or <code>server</code> must be provided, otherwise you might enable <code>noServer</code> if you want to pass the requests directly.</p>


<div class="pilwrap" id="server.close--code----data--">
  <h3>
    <a href="#server.close--code----data--" class="pilcrow">&#182;</a>
    server.close([code], [data])
  </h3>
</div>


<p>Close the server and terminate all clients</p>


<div class="pilwrap" id="server.handleupgrade-request--socket--upgradehead--callback-">
  <h3>
    <a href="#server.handleupgrade-request--socket--upgradehead--callback-" class="pilcrow">&#182;</a>
    server.handleUpgrade(request, socket, upgradeHead, callback)
  </h3>
</div>


<p>Handles a HTTP Upgrade request. <code>request</code> is an instance of <code>http.ServerRequest</code>, <code>socket</code> is an instance of <code>net.Socket</code>.</p>

<p>When the Upgrade was successfully, the <code>callback</code> will be called with a <code>ws.WebSocket</code> object as parameter.</p>


<div class="pilwrap" id="event---error-">
  <h3>
    <a href="#event---error-" class="pilcrow">&#182;</a>
    Event: 'error'
  </h3>
</div>


<p><code>function (error) { }</code></p>

<p>If the underlying server emits an error, it will be forwarded here.</p>


<div class="pilwrap" id="event---headers-">
  <h3>
    <a href="#event---headers-" class="pilcrow">&#182;</a>
    Event: 'headers'
  </h3>
</div>


<p><code>function (headers) { }</code></p>

<p>Emitted with the object of HTTP headers that are going to be written to the <code>Stream</code> as part of the handshake.</p>


<div class="pilwrap" id="event---connection-">
  <h3>
    <a href="#event---connection-" class="pilcrow">&#182;</a>
    Event: 'connection'
  </h3>
</div>


<p><code>function (socket) { }</code></p>

<p>When a new WebSocket connection is established. <code>socket</code> is an object of type <code>ws.WebSocket</code>.</p>


<div class="pilwrap" id="class--ws.websocket">
  <h2>
    <a href="#class--ws.websocket" class="pilcrow">&#182;</a>
    Class: ws.WebSocket
  </h2>
</div>


<p>This class represents a WebSocket connection. It is an <code>EventEmitter</code>.</p>


<div class="pilwrap" id="new-ws.websocket-address---options--">
  <h3>
    <a href="#new-ws.websocket-address---options--" class="pilcrow">&#182;</a>
    new ws.WebSocket(address, [options])
  </h3>
</div>


<p>Instantiating with an <code>address</code> creates a new WebSocket client object. If <code>address</code> is an Array (request, socket, rest), it is instantiated as a Server client (e.g. called from the <code>ws.Server</code>).</p>


<div class="pilwrap" id="websocket.bytesreceived">
  <h3>
    <a href="#websocket.bytesreceived" class="pilcrow">&#182;</a>
    websocket.bytesReceived
  </h3>
</div>


<p>Received bytes count.</p>


<div class="pilwrap" id="websocket.readystate">
  <h3>
    <a href="#websocket.readystate" class="pilcrow">&#182;</a>
    websocket.readyState
  </h3>
</div>


<p>Possible states are <code>WebSocket.CONNECTING</code>, <code>WebSocket.OPEN</code>, <code>WebSocket.CLOSING</code>, <code>WebSocket.CLOSED</code>.</p>


<div class="pilwrap" id="websocket.protocolversion">
  <h3>
    <a href="#websocket.protocolversion" class="pilcrow">&#182;</a>
    websocket.protocolVersion
  </h3>
</div>


<p>The WebSocket protocol version used for this connection, <code>8</code>, <code>13</code> or <code>hixie-76</code> (the latter only for server clients).</p>


<div class="pilwrap" id="websocket.url">
  <h3>
    <a href="#websocket.url" class="pilcrow">&#182;</a>
    websocket.url
  </h3>
</div>


<p>The URL of the WebSocket server (only for clients)</p>


<div class="pilwrap" id="websocket.supports">
  <h3>
    <a href="#websocket.supports" class="pilcrow">&#182;</a>
    websocket.supports
  </h3>
</div>


<p>Describes the feature of the used protocol version. E.g. <code>supports.binary</code> is a boolean that describes if the connection supports binary messages.</p>


<div class="pilwrap" id="websocket.close--code----data--">
  <h3>
    <a href="#websocket.close--code----data--" class="pilcrow">&#182;</a>
    websocket.close([code], [data])
  </h3>
</div>


<p>Gracefully closes the connection, after sending a description message</p>


<div class="pilwrap" id="websocket.pause--">
  <h3>
    <a href="#websocket.pause--" class="pilcrow">&#182;</a>
    websocket.pause()
  </h3>
</div>


<p>Pause the client stream</p>


<div class="pilwrap" id="websocket.ping--data----options----dontfailwhenclosed--">
  <h3>
    <a href="#websocket.ping--data----options----dontfailwhenclosed--" class="pilcrow">&#182;</a>
    websocket.ping([data], [options], [dontFailWhenClosed])
  </h3>
</div>


<p>Sends a ping. <code>data</code> is sent, <code>options</code> is an object with members <code>mask</code> and <code>binary</code>. <code>dontFailWhenClosed</code> indicates whether or not to throw if the connection isnt open.</p>


<div class="pilwrap" id="websocket.pong--data----options----dontfailwhenclosed--">
  <h3>
    <a href="#websocket.pong--data----options----dontfailwhenclosed--" class="pilcrow">&#182;</a>
    websocket.pong([data], [options], [dontFailWhenClosed])
  </h3>
</div>


<p>Sends a pong. <code>data</code> is sent, <code>options</code> is an object with members <code>mask</code> and <code>binary</code>. <code>dontFailWhenClosed</code> indicates whether or not to throw if the connection isnt open.</p>


<div class="pilwrap" id="websocket.resume--">
  <h3>
    <a href="#websocket.resume--" class="pilcrow">&#182;</a>
    websocket.resume()
  </h3>
</div>


<p>Resume the client stream</p>


<div class="pilwrap" id="websocket.send-data---options----callback--">
  <h3>
    <a href="#websocket.send-data---options----callback--" class="pilcrow">&#182;</a>
    websocket.send(data, [options], [callback])
  </h3>
</div>


<p>Sends <code>data</code> through the connection. <code>options</code> can be an object with members <code>mask</code> and <code>binary</code>. The optional <code>callback</code> is executed after the send completes.</p>


<div class="pilwrap" id="websocket.stream--options---callback-">
  <h3>
    <a href="#websocket.stream--options---callback-" class="pilcrow">&#182;</a>
    websocket.stream([options], callback)
  </h3>
</div>


<p>Streams data through calls to a user supplied function. <code>options</code> can be an object with members <code>mask</code> and <code>binary</code>.  <code>callback</code> is executed on successive ticks of which send is <code>function (data, final)</code>.</p>


<div class="pilwrap" id="websocket.terminate--">
  <h3>
    <a href="#websocket.terminate--" class="pilcrow">&#182;</a>
    websocket.terminate()
  </h3>
</div>


<p>Immediately shuts down the connection</p>


<div class="pilwrap" id="websocket.onopen">
  <h3>
    <a href="#websocket.onopen" class="pilcrow">&#182;</a>
    websocket.onopen
  </h3>
</div>



<div class="pilwrap" id="websocket.onerror">
  <h3>
    <a href="#websocket.onerror" class="pilcrow">&#182;</a>
    websocket.onerror
  </h3>
</div>



<div class="pilwrap" id="websocket.onclose">
  <h3>
    <a href="#websocket.onclose" class="pilcrow">&#182;</a>
    websocket.onclose
  </h3>
</div>



<div class="pilwrap" id="websocket.onmessage">
  <h3>
    <a href="#websocket.onmessage" class="pilcrow">&#182;</a>
    websocket.onmessage
  </h3>
</div>


<p>Emulates the W3C Browser based WebSocket interface using function members.</p>


<div class="pilwrap" id="websocket.addeventlistener-method--listener-">
  <h3>
    <a href="#websocket.addeventlistener-method--listener-" class="pilcrow">&#182;</a>
    websocket.addEventListener(method, listener)
  </h3>
</div>


<p>Emulates the W3C Browser based WebSocket interface using addEventListener.</p>


<div class="pilwrap" id="event---error-">
  <h3>
    <a href="#event---error-" class="pilcrow">&#182;</a>
    Event: 'error'
  </h3>
</div>


<p><code>function (error) { }</code></p>

<p>If the client emits an error, this event is emitted (errors from the underlying <code>net.Socket</code> are forwarded here).</p>


<div class="pilwrap" id="event---close-">
  <h3>
    <a href="#event---close-" class="pilcrow">&#182;</a>
    Event: 'close'
  </h3>
</div>


<p><code>function (code, message) { }</code></p>

<p>Is emitted when the connection is closed. <code>code</code> is defined in the WebSocket specification.</p>

<p>The <code>close</code> event is also emitted when then underlying <code>net.Socket</code> closes the connection (<code>end</code> or <code>close</code>).</p>


<div class="pilwrap" id="event---message-">
  <h3>
    <a href="#event---message-" class="pilcrow">&#182;</a>
    Event: 'message'
  </h3>
</div>


<p><code>function (data, flags) { }</code></p>

<p>Is emitted when data is received. <code>flags</code> is an object with member <code>binary</code>.</p>


<div class="pilwrap" id="event---ping-">
  <h3>
    <a href="#event---ping-" class="pilcrow">&#182;</a>
    Event: 'ping'
  </h3>
</div>


<p><code>function (data, flags) { }</code></p>

<p>Is emitted when a ping is received. <code>flags</code> is an object with member <code>binary</code>.</p>


<div class="pilwrap" id="event---pong-">
  <h3>
    <a href="#event---pong-" class="pilcrow">&#182;</a>
    Event: 'pong'
  </h3>
</div>


<p><code>function (data, flags) { }</code></p>

<p>Is emitted when a pong is received. <code>flags</code> is an object with member <code>binary</code>.</p>


<div class="pilwrap" id="event---open-">
  <h3>
    <a href="#event---open-" class="pilcrow">&#182;</a>
    Event: 'open'
  </h3>
</div>


<p><code>function () { }</code></p>

<p>Emitted when the connection is established.</p></div>
  </div>
</body>
</html>
