<!DOCTYPE html>
<html>
<head>
  <title>uglify-hangs.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../../../doc-style.css" />
  <script src="../../../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../../../", thisFile = "node_modules/socket.io/node_modules/socket.io-client/node_modules/uglify-js/tmp/uglify-hangs.js", defaultSidebar = true;
  </script>
  <script src="../../../../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>uglify-hangs.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span> <span class="o">=</span> <span class="p">{};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[d]</span>
      <span class="dox_type">Date</span>
      <span>A valid JavaScript Date object. If undefined the 
       current date/time will be used.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[withTZ]</span>
      <span class="dox_type">Boolean</span>
      <span>Include timezone offset, default false.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">formatIsoDateTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">withTZ</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">d</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> <span class="c1">// now</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">withTZ</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span>
    <span class="nx">withTZ</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">formatIsoDate</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">formatIsoTime</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">withTZ</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="kd">var</span> <span class="nx">diff</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">-</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getUTCHours</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">hourDiff</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">diff</span><span class="p">);</span>
    
    <span class="kd">var</span> <span class="nx">minuteUTC</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getUTCMinutes</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">minute</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">();</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">minute</span> <span class="o">!=</span> <span class="nx">minuteUTC</span> <span class="o">&amp;&amp;</span> <span class="nx">minuteUTC</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="o">&amp;&amp;</span> <span class="nx">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">hourDiff</span><span class="o">--</span><span class="p">;</span>
      
    <span class="k">if</span> <span class="p">(</span><span class="nx">minute</span> <span class="o">!=</span> <span class="nx">minuteUTC</span> <span class="o">&amp;&amp;</span> <span class="nx">minuteUTC</span> <span class="o">&gt;</span> <span class="mi">30</span> <span class="o">&amp;&amp;</span> <span class="nx">diff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">hourDiff</span><span class="o">--</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">minuteDiff</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">minute</span> <span class="o">!=</span> <span class="nx">minuteUTC</span><span class="p">)</span>
      <span class="nx">minuteDiff</span> <span class="o">=</span> <span class="s2">&quot;:30&quot;</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="nx">minuteDiff</span> <span class="o">=</span> <span class="s2">&quot;:00&quot;</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">timezone</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">hourDiff</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span>
      <span class="nx">timezone</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">+</span> <span class="nx">hourDiff</span> <span class="o">+</span> <span class="nx">minuteDiff</span><span class="p">;</span>
    
    <span class="k">else</span>
      <span class="nx">timezone</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nx">hourDiff</span> <span class="o">+</span> <span class="nx">minuteDiff</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">timezone</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">timezone</span><span class="p">;</span>
    
    <span class="k">else</span>
      <span class="nx">timezone</span> <span class="o">=</span> <span class="s2">&quot;+&quot;</span> <span class="o">+</span> <span class="nx">timezone</span><span class="p">;</span>
    
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span> <span class="o">+</span> <span class="nx">timezone</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[d]</span>
      <span class="dox_type">Date</span>
      <span>A valid JavaScript Date object. If undefined the current 
       date will be used.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">formatIsoDate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">d</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> <span class="c1">// now</span>
  
  <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>
  
  <span class="k">return</span> <span class="nx">year</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">month</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">day</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[d]</span>
      <span class="dox_type">Date</span>
      <span>A valid JavaScript Date object. If undefined the current 
       time will be used.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">formatIsoTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">d</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> <span class="c1">// now</span>
  
  <span class="kd">var</span> <span class="nx">hour</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">minute</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">second</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getSeconds</span><span class="p">();</span>
  
  <span class="k">return</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">hour</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">minute</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">second</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">isoDateTimeVal</span>
      <span class="dox_type">String</span>
      <span>An ISO-8601 formatted date/time string.

Accepted formats:

<ul>
    <li>YYYY-MM-DD HH:MM:SS
    <li>YYYYMMDD HHMMSS
    <li>YYYY-MM-DD HHMMSS
    <li>YYYYMMDD HH:MM:SS
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoDateTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">isoDateTimeVal</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">isoDateTimeVal</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: The parameter must be a string&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>First, try to match "YYYY-MM-DD HH:MM:SS" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoDateTimeVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d\d\d)-(\d\d)-(\d\d)[T ](\d\d):(\d\d):(\d\d)/</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>If unsuccessful, try to match "YYYYMMDD HHMMSS" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoDateTimeVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d\d\d)(\d\d)(\d\d)[T ](\d\d)(\d\d)(\d\d)/</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p>... try to match "YYYY-MM-DD HHMMSS" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoDateTimeVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d\d\d)-(\d\d)-(\d\d)[T ](\d\d)(\d\d)(\d\d)/</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>... try to match "YYYYMMDD HH:MM:SS" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoDateTimeVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d\d\d)-(\d\d)-(\d\d)[T ](\d\d):(\d\d):(\d\d)/</span><span class="p">);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p>Report bad date/time string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid ISO-8601 date/time string&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<p>Force base 10 parse int as some values may have leading zeros!
(to avoid implicit octal base conversion)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  
  <span class="kd">var</span> <span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">mins</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">secs</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>Simple value range check, leap years not checked
Note: the originial ISO time spec for leap hours (24:00:00) and seconds (00:00:60) is not supported</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">month</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">month</span> <span class="o">&gt;</span> <span class="mi">12</span> <span class="o">||</span>
      <span class="nx">day</span>   <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">day</span>   <span class="o">&gt;</span> <span class="mi">31</span> <span class="o">||</span>
      <span class="nx">hour</span>  <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">hour</span>  <span class="o">&gt;</span> <span class="mi">23</span> <span class="o">||</span>
      <span class="nx">mins</span>  <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">mins</span>  <span class="o">&gt;</span> <span class="mi">59</span> <span class="o">||</span>
      <span class="nx">secs</span>  <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">secs</span>  <span class="o">&gt;</span> <span class="mi">59</span>    <span class="p">)</span>
      
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid ISO-8601 date/time value&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">day</span><span class="p">,</span> <span class="nx">hour</span><span class="p">,</span> <span class="nx">mins</span><span class="p">,</span> <span class="nx">secs</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>Check if the input date was valid 
(JS Date does automatic forward correction)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">day</span> <span class="o">||</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span><span class="mi">1</span> <span class="o">!=</span> <span class="nx">month</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid date&quot;</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="nx">d</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">isoDateVal</span>
      <span class="dox_type">String</span>
      <span>An ISO-8601 formatted date string.

Accepted formats:

<ul>
    <li>YYYY-MM-DD
    <li>YYYYMMDD
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoDate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">isoDateVal</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">isoDateVal</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: The parameter must be a string&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>First, try to match "YYYY-MM-DD" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoDateVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d\d\d)-(\d\d)-(\d\d)/</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>If unsuccessful, try to match "YYYYMMDD" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoDateVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d\d\d)(\d\d)(\d\d)/</span><span class="p">);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>Report bad date/time string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid ISO-8601 date string&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p>Force base 10 parse int as some values may have leading zeros!
(to avoid implicit octal base conversion)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>Simple value range check, leap years not checked</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">month</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">month</span> <span class="o">&gt;</span> <span class="mi">12</span> <span class="o">||</span>
      <span class="nx">day</span>   <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">day</span>   <span class="o">&gt;</span> <span class="mi">31</span>    <span class="p">)</span>
      
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid ISO-8601 date value&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">day</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>Check if the input date was valid 
(JS Date does automatic forward correction)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">day</span> <span class="o">||</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span><span class="mi">1</span> <span class="o">!=</span> <span class="nx">month</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid date&quot;</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="nx">d</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">isoTimeVal</span>
      <span class="dox_type">String</span>
      <span>An ISO-8601 formatted time string.

Accepted formats:

<ul>
    <li>HH:MM:SS
    <li>HHMMSS
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">isoTimeVal</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">isoTimeVal</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: The parameter must be a string&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23">&#182;</a>
</div>
<p>First, try to match "HH:MM:SS" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoTimeVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d):(\d\d):(\d\d)/</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<p>If unsuccessful, try to match "HHMMSS" format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="nx">matches</span> <span class="o">=</span> <span class="nx">isoTimeVal</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d\d)(\d\d)(\d\d)/</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<p>Report bad date/time string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid ISO-8601 date/time string&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26">&#182;</a>
</div>
<p>Force base 10 parse int as some values may have leading zeros!
(to avoid implicit octal base conversion)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">mins</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">secs</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">matches</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27">&#182;</a>
</div>
<p>Simple value range check, leap years not checked</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">hour</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">hour</span> <span class="o">&gt;</span> <span class="mi">23</span> <span class="o">||</span>
      <span class="nx">mins</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">mins</span> <span class="o">&gt;</span> <span class="mi">59</span> <span class="o">||</span>
      <span class="nx">secs</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">secs</span> <span class="o">&gt;</span> <span class="mi">59</span>    <span class="p">)</span>
      
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid ISO-8601 time value&quot;</span><span class="p">;</span>

  <span class="k">return</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">hour</span><span class="p">,</span> <span class="nx">mins</span><span class="p">,</span> <span class="nx">secs</span><span class="p">);</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">str</span>
      <span class="dox_type">String</span>
      <span>The string to trim.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_trim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">whitespace</span> <span class="o">=</span> <span class="s1">&#39; \n\r\t\f\x0b\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000&#39;</span><span class="p">;</span>
  
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="nx">whitespace</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">str</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">whitespace</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">str</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="nx">whitespace</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span> <span class="nx">str</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="p">};</span>




</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">arg</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">String</span>
      <span>The argument to test.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isNumber</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">arg</span> <span class="o">==</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">arg</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30">&#182;</a>
</div>
<p>ensure string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">arg</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="p">(</span><span class="sr">/^-?(\d+|\d*\.\d+)$/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">arg</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">String</span>
      <span>The argument to test.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isInteger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">arg</span> <span class="o">!=</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">arg</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32">&#182;</a>
</div>
<p>convert to string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">arg</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span><span class="sr">/^-?\d+$/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">arg</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">String</span>
      <span>The argument to test.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isFloat</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">arg</span> <span class="o">!=</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">arg</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34">&#182;</a>
</div>
<p>convert to string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">arg</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="p">(</span><span class="sr">/^-?\.\d+?$/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">option</span>
      <span class="dox_type">String</span>
      <span>The option to search for.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">optionsString</span>
      <span class="dox_type">String</span>
      <span>The options string.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">option</span><span class="p">,</span> <span class="nx">optionsString</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">optionsString</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">optionsString</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">s</span>
      <span class="dox_type">String</span>
      <span>The string to work on.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">target</span>
      <span class="dox_type">String</span>
      <span>The string to search for.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">replacement</span>
      <span class="dox_type">String</span>
      <span>The replacement.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringReplaceAll</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">out</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">replacement</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37">&#182;</a>
</div>
<p>simple char/char case somewhat faster</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      
      <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">==</span> <span class="nx">target</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="nx">out</span> <span class="o">=</span> <span class="nx">out</span> <span class="o">+</span> <span class="nx">replacement</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="k">else</span>
        <span class="nx">out</span> <span class="o">=</span> <span class="nx">out</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38">&#182;</a>
</div>
<p>longer target and replacement strings</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">out</span> <span class="o">=</span> <span class="nx">s</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">out</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="nx">index</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    
      <span class="nx">out</span> <span class="o">=</span> <span class="nx">out</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">);</span>
      
      <span class="nx">index</span> <span class="o">=</span> <span class="nx">out</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">testedString</span>
      <span class="dox_type">String</span>
      <span>The string to test.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">sub</span>
      <span class="dox_type">String</span>
      <span>The string to match.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">testedString</span><span class="p">,</span> <span class="nx">sub</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">testedString</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">testedString</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">!=</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">optionsString</span>
      <span class="dox_type">String</span>
      <span>The options string.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_getPrecision</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">optionsString</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">optionsString</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">optionsString</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\.(\d)/</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">m</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">amount</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">String</span>
      <span>The amount, e.g. "123.45" or "-56.78"</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_splitNumber</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">amount</span> <span class="o">==</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
    <span class="nx">amount</span> <span class="o">=</span> <span class="nx">amount</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42">&#182;</a>
</div>
<p>remove negative sign</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">amount</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="nx">amount</span> <span class="o">=</span> <span class="nx">amount</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43">&#182;</a>
</div>
<p>split amount into integer and decimal parts</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">amountParts</span> <span class="o">=</span> <span class="nx">amount</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">amountParts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="nx">amountParts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span> <span class="c1">// we need &quot;&quot; instead of null</span>

  <span class="nx">obj</span><span class="p">.</span><span class="nx">integer</span> <span class="o">=</span> <span class="nx">amountParts</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">fraction</span> <span class="o">=</span> <span class="nx">amountParts</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

  <span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">intPart</span>
      <span class="dox_type">String</span>
      <span>The integer part of the amount, as string.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">grouping</span>
      <span class="dox_type">String</span>
      <span>The grouping definition.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">thousandsSep</span>
      <span class="dox_type">String</span>
      <span>The thousands separator.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatIntegerPart</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">intPart</span><span class="p">,</span> <span class="nx">grouping</span><span class="p">,</span> <span class="nx">thousandsSep</span><span class="p">)</span> <span class="p">{</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45">&#182;</a>
</div>
<p>empty separator string? no grouping?
-> return immediately with no formatting!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">thousandsSep</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="o">||</span> <span class="nx">grouping</span> <span class="o">==</span> <span class="s2">&quot;-1&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">intPart</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46">&#182;</a>
</div>
<p>turn the semicolon-separated string of integers into an array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">groupSizes</span> <span class="o">=</span> <span class="nx">grouping</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47">&#182;</a>
</div>
<p>the formatted output string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48">&#182;</a>
</div>
<p>the intPart string position to process next,
start at string end, e.g. "10000000<starts here"</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">intPart</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49">&#182;</a>
</div>
<p>process the intPart string backwards
    "1000000000"
           &lt;---\ direction</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">size</span><span class="p">;</span>
  
  <span class="k">while</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50">&#182;</a>
</div>
<p>get next group size (if any, otherwise keep last)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">groupSizes</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">size</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">groupSizes</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span> <span class="mi">10</span><span class="p">);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51">&#182;</a>
</div>
<p>int parse error?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">size</span><span class="p">))</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid grouping&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52">&#182;</a>
</div>
<p>size is -1? -> no more grouping, so just copy string remainder</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">size</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">out</span> <span class="o">=</span> <span class="nx">intPart</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">pos</span><span class="p">)</span> <span class="o">+</span> <span class="nx">out</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">pos</span> <span class="o">-=</span> <span class="nx">size</span><span class="p">;</span> <span class="c1">// move to next sep. char. position</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53">&#182;</a>
</div>
<p>position underrun? -> just copy string remainder</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">out</span> <span class="o">=</span> <span class="nx">intPart</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">pos</span> <span class="o">+</span> <span class="nx">size</span><span class="p">)</span> <span class="o">+</span> <span class="nx">out</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54">&#182;</a>
</div>
<p>extract group and apply sep. char.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">out</span> <span class="o">=</span> <span class="nx">thousandsSep</span> <span class="o">+</span> <span class="nx">intPart</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">pos</span><span class="p">,</span> <span class="nx">pos</span> <span class="o">+</span> <span class="nx">size</span><span class="p">)</span> <span class="o">+</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
<span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">fracPart</span>
      <span class="dox_type">String</span>
      <span>The fractional part of the amount</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">precision</span>
      <span class="dox_type">integerNumber</span>
      <span>The desired decimal precision</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatFractionPart</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">fracPart</span><span class="p">,</span> <span class="nx">precision</span><span class="p">)</span> <span class="p">{</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56">&#182;</a>
</div>
<p>append zeroes up to precision if necessary</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">fracPart</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">precision</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
    <span class="nx">fracPart</span> <span class="o">=</span> <span class="nx">fracPart</span> <span class="o">+</span> <span class="s2">&quot;0&quot;</span><span class="p">;</span>

  <span class="k">return</span> <span class="nx">fracPart</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">number</span>
      <span class="dox_type">integerNumber</span>
      <span>The number value subjected to selective padding.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">length</span>
      <span class="dox_type">integerNumber</span>
      <span>If the number has fewer digits than this length
       apply padding.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span> <span class="p">{</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58">&#182;</a>
</div>
<p>ensure string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">number</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">)</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">number</span>
      <span class="dox_type">integerNumber</span>
      <span>The number value subjected to selective padding.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">length</span>
      <span class="dox_type">integerNumber</span>
      <span>If the number has fewer digits than this length
       apply padding.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">_spacePad</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span> <span class="p">{</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60">&#182;</a>
</div>
<p>ensure string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">number</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">)</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
<span class="p">};</span>




</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">properties</span>
      <span class="dox_type">object</span>
      <span>An object containing the raw locale properties:


<div class="highlight"><pre><code>   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.decimal_point</span>

   <span class="nx">A</span> <span class="kt">string</span> <span class="nx">containing</span> <span class="nx">the</span> <span class="nx">symbol</span> <span class="nx">that</span> <span class="nx">shall</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">the</span> <span class="kt">decimal</span>
   <span class="nx">delimiter</span> <span class="p">(</span><span class="nx">radix</span> <span class="nx">character</span><span class="p">)</span> <span class="k">in</span> <span class="nx">numeric</span><span class="p">,</span> <span class="nx">non</span><span class="na">-monetary</span> <span class="nx">formatted</span>
   <span class="nx">quantities.</span> <span class="nx">This</span> <span class="nx">property</span> <span class="nx">cannot</span> <span class="nx">be</span> <span class="nx">omitted</span> <span class="ow">and</span> <span class="nx">cannot</span> <span class="nx">be</span> <span class="nb">set</span> <span class="k">to</span> <span class="nx">the</span>
   <span class="nx">empty</span> <span class="kt">string</span><span class="nx">.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.thousands_sep</span>

   <span class="nx">A</span> <span class="kt">string</span> <span class="nx">containing</span> <span class="nx">the</span> <span class="nx">symbol</span> <span class="nx">that</span> <span class="nx">shall</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">a</span> <span class="nx">separator</span> <span class="nb">for</span>
   <span class="nx">groups</span> <span class="nx">of</span> <span class="nx">digits</span> <span class="k">to</span> <span class="nx">the</span> <span class="nb">left</span> <span class="nx">of</span> <span class="nx">the</span> <span class="kt">decimal</span> <span class="n">delimiter</span> <span class="k">in</span> <span class="nx">numeric</span><span class="p">,</span>
   <span class="nx">non</span><span class="na">-monetary</span> <span class="nx">formatted</span> <span class="nx">monetary</span> <span class="nx">quantities.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.grouping</span>

   <span class="nx">Defines</span> <span class="nx">the</span> <span class="nb">size</span> <span class="nx">of</span> <span class="nb">each</span> <span class="k">group</span> <span class="nx">of</span> <span class="n">digits</span> <span class="k">in</span> <span class="nx">formatted</span> <span class="nx">non</span><span class="na">-monetary</span>
   <span class="nx">quantities.</span> <span class="nx">The</span> <span class="nx">operand</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">sequence</span> <span class="nx">of</span> <span class="nx">integers</span> <span class="nx">separated</span> <span class="k">by</span>
   <span class="nx">semicolons.</span> <span class="nb">Each</span> <span class="kt">integer</span> <span class="nx">specifies</span> <span class="nx">the</span> <span class="nx">number</span> <span class="nx">of</span> <span class="n">digits</span> <span class="k">in</span> <span class="nb">each</span> <span class="k">group</span><span class="p">,</span>
   <span class="k">with</span> <span class="nx">the</span> <span class="nx">initial</span> <span class="kt">integer</span> <span class="nx">defining</span> <span class="nx">the</span> <span class="nb">size</span> <span class="nx">of</span> <span class="nx">the</span> <span class="k">group</span> <span class="nx">immediately</span>
   <span class="nx">preceding</span> <span class="nx">the</span> <span class="kt">decimal</span> <span class="nx">delimiter</span><span class="p">,</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nx">following</span> <span class="nx">integers</span> <span class="nx">defining</span>
   <span class="nx">the</span> <span class="nx">preceding</span> <span class="nx">groups.</span> <span class="k">If</span> <span class="nx">the</span> <span class="nb">last</span> <span class="kt">integer</span> <span class="nx">is</span> <span class="ow">not</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">the</span> <span class="nb">size</span> <span class="nx">of</span>
   <span class="nx">the</span> <span class="nx">previous</span> <span class="k">group</span> <span class="p">(</span><span class="k">if</span> <span class="nb">any</span><span class="p">)</span> <span class="nx">shall</span> <span class="nx">be</span> <span class="nx">repeatedly</span> <span class="nx">used</span> <span class="nb">for</span> <span class="nx">the</span>
   <span class="nb">remainder</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">digits.</span> <span class="k">If</span> <span class="nx">the</span> <span class="nb">last</span> <span class="kt">integer</span> <span class="nx">is</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">no</span> <span class="nx">further</span>
   <span class="nx">grouping</span> <span class="nx">shall</span> <span class="nx">be</span> <span class="nx">performed.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.int_curr_symbol</span>

   <span class="nx">The</span> <span class="nb">first</span> <span class="nx">three</span> <span class="nx">letters</span> <span class="nx">signify</span> <span class="nx">the</span> <span class="nx">ISO</span><span class="o">-</span><span class="mi">4217</span> <span class="nb">currency</span> <span class="nb">code</span><span class="p">,</span>
   <span class="nx">the</span> <span class="nx">fourth</span> <span class="nx">letter</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">international</span> <span class="nx">symbol</span> <span class="nx">separation</span> <span class="nx">character</span>
   <span class="p">(</span><span class="nx">normally</span> <span class="nx">a</span> <span class="nx">space</span><span class="p">)</span><span class="nx">.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.currency_symbol</span>

   <span class="nx">The</span> <span class="kd">local</span> <span class="nx">shorthand</span> <span class="nb">currency</span> <span class="nx">symbol</span><span class="p">,</span> <span class="nx">e.g.</span> <span class="s2">&quot;
~C1C
quot;</span> <span class="nb">for</span> <span class="nx">the</span> <span class="nx">en_US</span> <span class="nb">locale</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.mon_decimal_point</span>

   <span class="nx">The</span> <span class="nx">symbol</span> <span class="k">to</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">the</span> <span class="kt">decimal</span> <span class="nx">delimiter</span> <span class="p">(</span><span class="nx">radix</span> <span class="nx">character</span><span class="p">)</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.mon_thousands_sep</span>

   <span class="nx">The</span> <span class="nx">symbol</span> <span class="k">to</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">a</span> <span class="nx">separator</span> <span class="nb">for</span> <span class="nx">groups</span> <span class="nx">of</span> <span class="nx">digits</span> <span class="k">to</span> <span class="nx">the</span>
   <span class="nb">left</span> <span class="nx">of</span> <span class="nx">the</span> <span class="kt">decimal</span> <span class="nx">delimiter.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.mon_grouping</span>

   <span class="nx">A</span> <span class="kt">string</span> <span class="nx">that</span> <span class="nx">defines</span> <span class="nx">the</span> <span class="nb">size</span> <span class="nx">of</span> <span class="nb">each</span> <span class="k">group</span> <span class="nx">of</span> <span class="nx">digits.</span> <span class="nx">The</span>
   <span class="nx">operand</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">sequence</span> <span class="nx">of</span> <span class="nx">integers</span> <span class="nx">separated</span> <span class="k">by</span> <span class="nx">semicolons</span> <span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span><span class="nx">.</span>
   <span class="nb">Each</span> <span class="kt">integer</span> <span class="nx">specifies</span> <span class="nx">the</span> <span class="nx">number</span> <span class="nx">of</span> <span class="n">digits</span> <span class="k">in</span> <span class="nb">each</span> <span class="k">group</span><span class="p">,</span> <span class="k">with</span> <span class="nx">the</span>
   <span class="nx">initial</span> <span class="kt">integer</span> <span class="nx">defining</span> <span class="nx">the</span> <span class="nb">size</span> <span class="nx">of</span> <span class="nx">the</span> <span class="k">group</span> <span class="nx">preceding</span> <span class="nx">the</span>
   <span class="kt">decimal</span> <span class="nx">delimiter</span><span class="p">,</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nx">following</span> <span class="nx">integers</span> <span class="nx">defining</span> <span class="nx">the</span>
   <span class="nx">preceding</span> <span class="nx">groups.</span> <span class="k">If</span> <span class="nx">the</span> <span class="nb">last</span> <span class="kt">integer</span> <span class="nx">is</span> <span class="ow">not</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">the</span> <span class="nb">size</span> <span class="nx">of</span>
   <span class="nx">the</span> <span class="nx">previous</span> <span class="k">group</span> <span class="p">(</span><span class="k">if</span> <span class="nb">any</span><span class="p">)</span> <span class="nx">must</span> <span class="nx">be</span> <span class="nx">repeatedly</span> <span class="nx">used</span> <span class="nb">for</span> <span class="nx">the</span>
   <span class="nb">remainder</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">digits.</span> <span class="k">If</span> <span class="nx">the</span> <span class="nb">last</span> <span class="kt">integer</span> <span class="nx">is</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">no</span>
   <span class="nx">further</span> <span class="nx">grouping</span> <span class="nx">is</span> <span class="k">to</span> <span class="nx">be</span> <span class="nx">performed.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.positive_sign</span>

   <span class="nx">The</span> <span class="kt">string</span> <span class="k">to</span> <span class="nx">indicate</span> <span class="nx">a</span> <span class="nx">non</span><span class="na">-negative</span> <span class="nx">monetary</span> <span class="nx">amount.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="p">}</span> <span class="nx">properties.negative_sign</span>

   <span class="nx">The</span> <span class="kt">string</span> <span class="k">to</span> <span class="nx">indicate</span> <span class="nx">a</span> <span class="nx">negative</span> <span class="nx">monetary</span> <span class="nx">amount.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.frac_digits</span>

   <span class="nx">An</span> <span class="kt">integer</span> <span class="nx">representing</span> <span class="nx">the</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">fractional</span> <span class="nx">digits</span> <span class="p">(</span><span class="nx">those</span> <span class="k">to</span>
   <span class="nx">the</span> <span class="nb">right</span> <span class="nx">of</span> <span class="nx">the</span> <span class="kt">decimal</span> <span class="nx">delimiter</span><span class="p">)</span> <span class="k">to</span> <span class="nx">be</span> <span class="n">written</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">formatted</span>
   <span class="nx">monetary</span> <span class="nx">quantity</span> <span class="nx">using</span> <span class="nx">currency_symbol.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.int_frac_digits</span>

   <span class="nx">An</span> <span class="kt">integer</span> <span class="nx">representing</span> <span class="nx">the</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">fractional</span> <span class="nx">digits</span> <span class="p">(</span><span class="nx">those</span> <span class="k">to</span>
   <span class="nx">the</span> <span class="nb">right</span> <span class="nx">of</span> <span class="nx">the</span> <span class="kt">decimal</span> <span class="nx">delimiter</span><span class="p">)</span> <span class="k">to</span> <span class="nx">be</span> <span class="n">written</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">formatted</span>
   <span class="nx">monetary</span> <span class="nx">quantity</span> <span class="nx">using</span> <span class="nx">int_curr_symbol.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.p_cs_precedes</span>

   <span class="nx">An</span> <span class="kt">integer</span> <span class="nb">set</span> <span class="k">to</span> <span class="mi">1</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">currency_symbol</span> <span class="nx">precedes</span> <span class="nx">the</span> <span class="nb">value</span> <span class="nb">for</span> <span class="nx">a</span>
   <span class="nx">monetary</span> <span class="nx">quantity</span> <span class="k">with</span> <span class="nx">a</span> <span class="nx">non</span><span class="na">-negative</span> <span class="nb">value</span><span class="p">,</span> <span class="ow">and</span> <span class="nb">set</span> <span class="k">to</span> <span class="mi">0</span> <span class="k">if</span> <span class="nx">the</span>
   <span class="nx">symbol</span> <span class="nx">succeeds</span> <span class="nx">the</span> <span class="nx">value.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.n_cs_precedes</span>

   <span class="nx">An</span> <span class="kt">integer</span> <span class="nb">set</span> <span class="k">to</span> <span class="mi">1</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">currency_symbol</span> <span class="nx">precedes</span> <span class="nx">the</span> <span class="nb">value</span> <span class="nb">for</span> <span class="nx">a</span>
   <span class="nx">monetary</span> <span class="nx">quantity</span> <span class="k">with</span> <span class="nx">a</span> <span class="nx">negative</span> <span class="nb">value</span><span class="p">,</span> <span class="ow">and</span> <span class="nb">set</span> <span class="k">to</span> <span class="mi">0</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">symbol</span>
   <span class="nx">succeeds</span> <span class="nx">the</span> <span class="nx">value.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.p_sep_by_space</span>

   <span class="nb">Set</span> <span class="k">to</span> <span class="nx">a</span> <span class="nb">value</span> <span class="nx">indicating</span> <span class="nx">the</span> <span class="nx">separation</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">currency_symbol</span><span class="p">,</span>
   <span class="nx">the</span> <span class="nx">sign</span> <span class="kt">string</span><span class="p">,</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nb">value</span> <span class="nb">for</span> <span class="nx">a</span> <span class="nx">non</span><span class="na">-negative</span> <span class="nx">formatted</span> <span class="nx">monetary</span>
   <span class="nx">quantity</span><span class="p">:</span>

        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">0</span> <span class="nx">No</span> <span class="nx">space</span> <span class="nx">separates</span> <span class="nx">the</span> <span class="nb">currency</span> <span class="nx">symbol</span> <span class="ow">and</span> <span class="nx">value.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">1</span> <span class="k">If</span> <span class="nx">the</span> <span class="nb">currency</span> <span class="nx">symbol</span> <span class="ow">and</span> <span class="nx">sign</span> <span class="kt">string</span> <span class="nx">are</span> <span class="nx">adjacent</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">space</span>
             <span class="nx">separates</span> <span class="nx">them</span> <span class="nb">from</span> <span class="nx">the</span> <span class="nb">value</span><span class="p">;</span> <span class="nx">otherwise</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">space</span> <span class="nx">separates</span>
             <span class="nx">the</span> <span class="nb">currency</span> <span class="nx">symbol</span> <span class="nb">from</span> <span class="nx">the</span> <span class="nx">value.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">2</span> <span class="k">If</span> <span class="nx">the</span> <span class="nb">currency</span> <span class="nx">symbol</span> <span class="ow">and</span> <span class="nx">sign</span> <span class="kt">string</span> <span class="nx">are</span> <span class="nx">adjacent</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">space</span>
             <span class="nx">separates</span> <span class="nx">them</span><span class="p">;</span> <span class="nx">otherwise</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">space</span> <span class="nx">separates</span> <span class="nx">the</span> <span class="nx">sign</span> <span class="kt">string</span>
             <span class="nb">from</span> <span class="nx">the</span> <span class="nx">value.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.n_sep_by_space</span>

   <span class="nb">Set</span> <span class="k">to</span> <span class="nx">a</span> <span class="nb">value</span> <span class="nx">indicating</span> <span class="nx">the</span> <span class="nx">separation</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">currency_symbol</span><span class="p">,</span>
   <span class="nx">the</span> <span class="nx">sign</span> <span class="kt">string</span><span class="p">,</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nb">value</span> <span class="nb">for</span> <span class="nx">a</span> <span class="nx">negative</span> <span class="nx">formatted</span> <span class="nx">monetary</span>
   <span class="nx">quantity.</span> <span class="nb">Rules</span> <span class="nx">same</span> <span class="nx">as</span> <span class="nb">for</span> <span class="nx">p_sep_by_space.</span>


   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">integer</span> <span class="nx">Number</span><span class="p">}</span> <span class="nx">properties.p_sign_posn</span>

   <span class="nx">An</span> <span class="kt">integer</span> <span class="nb">set</span> <span class="k">to</span> <span class="nx">a</span> <span class="nb">value</span> <span class="nx">indicating</span> <span class="nx">the</span> <span class="nx">positioning</span> <span class="nx">of</span> <span class="nx">the</span>
   <span class="nx">positive_sign</span> <span class="nb">for</span> <span class="nx">a</span> <span class="nx">monetary</span> <span class="nx">quantity</span> <span class="k">with</span> <span class="nx">a</span> <span class="nx">non</span><span class="na">-negative</span> <span class="nb">value</span><span class="p">:</span>

    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">0</span> <span class="nx">Parentheses</span> <span class="nx">enclose</span> <span class="nx">the</span> <span class="nx">quantity</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nx">currency_symbol.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">1</span> <span class="nx">The</span> <span class="nx">sign</span> <span class="kt">string</span> <span class="nx">precedes</span> <span class="nx">the</span> <span class="nx">quantity</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nx">currency_symbol.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">2</span> <span class="nx">The</span> <span class="nx">sign</span> <span class="kt">string</span> <span class="nx">succeeds</span> <span class="nx">the</span> <span class="nx">quantity</span> <span class="ow">and</span> <span class="nx">the</span> <span class="nx">currency_symbol.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">3</span> <span class="nx">The</span> <span class="nx">sign</span> <span class="kt">string</span> <span class="nx">precedes</span> <span class="nx">the</span> <span class="nx">currency_symbol.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">4</span> <span class="nx">The</span> <span class="nx">sign</span> <span class="kt">string</span> <span class="nx">succeeds</span> <span class="nx">the</span> <span class="nx">currency_symbol.</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
</code></pre></div>



@param {integer Number} properties.n_sign_posn

An integer set to a value indicating the positioning of the
   negative_sign for a negative formatted monetary quantity. Rules same
   as for p_sign_posn.

@param {integer Number} properties.int_p_cs_precedes

An integer set to 1 if the int_curr_symbol precedes the value for a
   monetary quantity with a non-negative value, and set to 0 if the
   symbol succeeds the value.

@param {integer Number} properties.int_n_cs_precedes

An integer set to 1 if the int_curr_symbol precedes the value for a
   monetary quantity with a negative value, and set to 0 if the symbol
   succeeds the value.

@param {integer Number} properties.int_p_sep_by_space

Set to a value indicating the separation of the int_curr_symbol,
   the sign string, and the value for a non-negative internationally
   formatted monetary quantity. Rules same as for p_sep_by_space.

@param {integer Number} properties.int_n_sep_by_space

Set to a value indicating the separation of the int_curr_symbol,
   the sign string, and the value for a negative internationally
   formatted monetary quantity. Rules same as for p_sep_by_space.

@param {integer Number} properties.int_p_sign_posn

An integer set to a value indicating the positioning of the
   positive_sign for a positive monetary quantity formatted with the
   international format. Rules same as for p_sign_posn.

@param {integer Number} properties.int_n_sign_posn

An integer set to a value indicating the positioning of the
   negative_sign for a negative monetary quantity formatted with the
   international format. Rules same as for p_sign_posn.


<div class="highlight"><pre><code>   <span class="p">@</span><span class="nb">param</span> <span class="p">{</span><span class="kt">String</span><span class="err">[</span><span class="cp">]</span> | String} properties.abday

   The abbreviated weekday names, corresponding to the %a conversion
   specification. The property must be either an array of 7 strings or
   a string consisting of 7 semicolon-separated substrings, each 
   surrounded by double-quotes. The first must be the abbreviated name 
   of the day corresponding to Sunday, the second the abbreviated name 
   of the day corresponding to Monday, and so on.


   @param {String<span class="cp">[]</span> | String} properties.day

   The full weekday names, corresponding to the %A conversion
   specification. The property must be either an array of 7 strings or
   a string consisting of 7 semicolon-separated substrings, each 
   surrounded by double-quotes. The first must be the full name of the 
   day corresponding to Sunday, the second the full name of the day 
   corresponding to Monday, and so on.


   @param {String<span class="cp">[]</span> | String} properties.abmon

   The abbreviated month names, corresponding to the %b conversion
   specification. The property must be either an array of 12 strings or
   a string consisting of 12 semicolon-separated substrings, each 
   surrounded by double-quotes. The first must be the abbreviated name 
   of the first month of the year (January), the second the abbreviated 
   name of the second month, and so on.


   @param {String<span class="cp">[]</span> | String} properties.mon

   The full month names, corresponding to the %B conversion
   specification. The property must be either an array of 12 strings or
   a string consisting of 12 semicolon-separated substrings, each 
   surrounded by double-quotes. The first must be the full name of the 
   first month of the year (January), the second the full name of the second 
   month, and so on.


   @param {String} properties.d_fmt

   The appropriate date representation. The string may contain any
   combination of characters and conversion specifications (%<span class="nt">&lt;char&gt;</span>).


   @param {String} properties.t_fmt

   The appropriate time representation. The string may contain any
   combination of characters and conversion specifications (%<span class="nt">&lt;char&gt;</span>).


   @param {String} properties.d_t_fmt

   The appropriate date and time representation. The string may contain
   any combination of characters and conversion specifications (%<span class="nt">&lt;char&gt;</span>).


   @param {String<span class="cp">[]</span> | String} properties.am_pm

   The appropriate representation of the ante-meridiem and post-meridiem
   strings, corresponding to the %p conversion specification. The property 
   must be either an array of 2 strings or a string consisting of 2 
   semicolon-separated substrings, each surrounded by double-quotes. 
   The first string must represent the ante-meridiem designation, the 
   last string the post-meridiem designation.
</code></pre></div>

</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">Locale</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_className</span> <span class="o">=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">namesAn</span>
      <span class="dox_type">String[]</span>
      <span class="dox_type">String</span>
      <span>array or string defining 
       the week/month names.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expectedItems</span>
      <span class="dox_type">integerNumber</span>
      <span>The number of expected list
       items, e.g. 7 for weekdays, 12 for months.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_parseList</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">names</span><span class="p">,</span> <span class="nx">expectedItems</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[];</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">names</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="s2">&quot;Names not defined&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">names</span> <span class="o">==</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64">&#182;</a>
</div>
<p>we got a ready array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">array</span> <span class="o">=</span> <span class="nx">names</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">names</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65">&#182;</a>
</div>
<p>we got the names in the classic POSIX form, do parse</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">array</span> <span class="o">=</span> <span class="nx">names</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="nx">expectedItems</span><span class="p">);</span>
    
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66">&#182;</a>
</div>
<p>check for and strip double quotes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;\&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;\&quot;&quot;</span><span class="p">)</span>
          <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">else</span>
          <span class="k">throw</span> <span class="s2">&quot;Missing double quotes&quot;</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="s2">&quot;Names must be an array or a string&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">length</span> <span class="o">!=</span> <span class="nx">expectedItems</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Expected &quot;</span> <span class="o">+</span> <span class="nx">expectedItems</span> <span class="o">+</span> <span class="s2">&quot; items, got &quot;</span> <span class="o">+</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="nx">array</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formatString</span>
      <span class="dox_type">String</span>
      <span>The format string.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_validateFormatString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formatString</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">formatString</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">formatString</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">formatString</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Empty or no string&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68">&#182;</a>
</div>
<p>LC_NUMERIC</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">properties</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing locale properties&quot;</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">decimal_point</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing decimal_point property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">decimal_point</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">decimal_point</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">thousands_sep</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing thousands_sep property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">thousands_sep</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">thousands_sep</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">grouping</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing grouping property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">grouping</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">grouping</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69">&#182;</a>
</div>
<p>LC_MONETARY</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_curr_symbol</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_curr_symbol property&quot;</span><span class="p">;</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="sr">/[A-Za-z]{3}.?/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_curr_symbol</span><span class="p">))</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid int_curr_symbol property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">int_curr_symbol</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_curr_symbol</span><span class="p">;</span>
  

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">currency_symbol</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing currency_symbol property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">currency_symbol</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">currency_symbol</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">frac_digits</span> <span class="o">!=</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">frac_digits</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing frac_digits property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">frac_digits</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">frac_digits</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70">&#182;</a>
</div>
<p>may be empty string/null for currencies with no fractional part</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">mon_decimal_point</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_decimal_point</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frac_digits</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Undefined mon_decimal_point property&quot;</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_decimal_point</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_decimal_point</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing mon_decimal_point property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">mon_decimal_point</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_decimal_point</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_thousands_sep</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing mon_thousands_sep property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">mon_thousands_sep</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_thousands_sep</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_grouping</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing mon_grouping property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">mon_grouping</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">mon_grouping</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing positive_sign property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing negative_sign property&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
  
  
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing p_cs_precedes property, must be 0 or 1&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">p_cs_precedes</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing n_cs_precedes, must be 0 or 1&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">n_cs_precedes</span><span class="p">;</span>
  

  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">!==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing p_sep_by_space property, must be 0, 1 or 2&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sep_by_space</span><span class="p">;</span>
  

  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">!==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing n_sep_by_space property, must be 0, 1, or 2&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sep_by_space</span><span class="p">;</span>
  

  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">!==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">!==</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">!==</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing p_sign_posn property, must be 0, 1, 2, 3 or 4&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">p_sign_posn</span><span class="p">;</span>


  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">!==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">!==</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">!==</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing n_sign_posn property, must be 0, 1, 2, 3 or 4&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">n_sign_posn</span><span class="p">;</span>


  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_frac_digits</span> <span class="o">!=</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_frac_digits</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_frac_digits property&quot;</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">int_frac_digits</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_frac_digits</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_p_cs_precedes property, must be 0 or 1&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_n_cs_precedes property, must be 0 or 1&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span><span class="p">;</span>
  

  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">!==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_p_sep_by_spacev, must be 0, 1 or 2&quot;</span><span class="p">;</span>
    
  <span class="k">this</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span><span class="p">;</span>


  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">!==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_n_sep_by_space property, must be 0, 1, or 2&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span><span class="p">;</span>
  

  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">!==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">!==</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">!==</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_p_sign_posn property, must be 0, 1, 2, 3 or 4&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_p_sign_posn</span><span class="p">;</span>
  
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">!==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">!==</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
      <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">!==</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing int_n_sign_posn property, must be 0, 1, 2, 3 or 4&quot;</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">=</span> <span class="nx">properties</span><span class="p">.</span><span class="nx">int_n_sign_posn</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71">&#182;</a>
</div>
<p>LC_TIME</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">properties</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">properties</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid/missing time locale properties&quot;</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72">&#182;</a>
</div>
<p>parse the supported POSIX LC_TIME properties</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73">&#182;</a>
</div>
<p>abday</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span>  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">abday</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_parseList</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">abday</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid abday property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74">&#182;</a>
</div>
<p>day</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">day</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_parseList</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">day</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid day property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75">&#182;</a>
</div>
<p>abmon</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">abmon</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_parseList</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">abmon</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid abmon property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76">&#182;</a>
</div>
<p>mon</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">mon</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_parseList</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">mon</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid mon property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77">&#182;</a>
</div>
<p>d_fmt</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">d_fmt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_validateFormatString</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">d_fmt</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid d_fmt property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78">&#182;</a>
</div>
<p>t_fmt</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">t_fmt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_validateFormatString</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">t_fmt</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid t_fmt property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79">&#182;</a>
</div>
<p>d_t_fmt</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">d_t_fmt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_validateFormatString</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">d_t_fmt</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid d_t_fmt property: &quot;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80">&#182;</a>
</div>
<p>am_pm</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">am_pm_strings</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_parseList</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="nx">am_pm</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">am</span> <span class="o">=</span> <span class="nx">am_pm_strings</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pm</span> <span class="o">=</span> <span class="nx">am_pm_strings</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81">&#182;</a>
</div>
<p>ignore empty/null string errors</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">this</span><span class="p">.</span><span class="nx">am</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pm</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="p">}</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[weekdayNum]</span>
      <span class="dox_type">integerNumber</span>
      <span>An integer between 0 and 6. Zero 
       corresponds to Sunday, one to Monday, etc. If omitted the
       method will return an array of all abbreviated weekday 
       names.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getAbbreviatedWeekdayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">weekdayNum</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">weekdayNum</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">||</span> <span class="nx">weekdayNum</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">abday</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isInteger</span><span class="p">(</span><span class="nx">weekdayNum</span><span class="p">)</span> <span class="o">||</span> <span class="nx">weekdayNum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">weekdayNum</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid weekday argument, must be an integer [0..6]&quot;</span><span class="p">;</span>
      
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">abday</span><span class="p">[</span><span class="nx">weekdayNum</span><span class="p">];</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[weekdayNum]</span>
      <span class="dox_type">integerNumber</span>
      <span>An integer between 0 and 6. Zero 
       corresponds to Sunday, one to Monday, etc. If omitted the
       method will return an array of all weekday names.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getWeekdayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">weekdayNum</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">weekdayNum</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">||</span> <span class="nx">weekdayNum</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">day</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isInteger</span><span class="p">(</span><span class="nx">weekdayNum</span><span class="p">)</span> <span class="o">||</span> <span class="nx">weekdayNum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">weekdayNum</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid weekday argument, must be an integer [0..6]&quot;</span><span class="p">;</span>
      
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">day</span><span class="p">[</span><span class="nx">weekdayNum</span><span class="p">];</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[monthNum]</span>
      <span class="dox_type">integerNumber</span>
      <span>An integer between 0 and 11. Zero 
       corresponds to January, one to February, etc. If omitted the
       method will return an array of all abbreviated month names.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getAbbreviatedMonthName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">monthNum</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">monthNum</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">||</span> <span class="nx">monthNum</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">abmon</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isInteger</span><span class="p">(</span><span class="nx">monthNum</span><span class="p">)</span> <span class="o">||</span> <span class="nx">monthNum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">monthNum</span> <span class="o">&gt;</span> <span class="mi">11</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid month argument, must be an integer [0..11]&quot;</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">abmon</span><span class="p">[</span><span class="nx">monthNum</span><span class="p">];</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[monthNum]</span>
      <span class="dox_type">integerNumber</span>
      <span>An integer between 0 and 11. Zero 
       corresponds to January, one to February, etc. If omitted the
       method will return an array of all month names.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getMonthName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">monthNum</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">monthNum</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">||</span> <span class="nx">monthNum</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mon</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isInteger</span><span class="p">(</span><span class="nx">monthNum</span><span class="p">)</span> <span class="o">||</span> <span class="nx">monthNum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">monthNum</span> <span class="o">&gt;</span> <span class="mi">11</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid month argument, must be an integer [0..11]&quot;</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mon</span><span class="p">[</span><span class="nx">monthNum</span><span class="p">];</span>
  <span class="p">};</span>
  
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getDecimalPoint</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">decimal_point</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getCurrencySymbol</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currency_symbol</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getIntCurrencySymbol</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">int_curr_symbol</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">currencySymbolPrecedes</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">intCurrencySymbolPrecedes</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>

  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getMonetaryDecimalPoint</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mon_decimal_point</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getFractionalDigits</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">frac_digits</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getIntFractionalDigits</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">int_frac_digits</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>




</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">locale</span>
      <span class="dox_type">jsworld.Locale</span>
      <span>A locale object specifying the required 
       POSIX LC_NUMERIC formatting properties.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">NumericFormatter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">locale</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">_className</span> <span class="o">!=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Constructor error: You must provide a valid jsworld.Locale instance&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">lc</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">number</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">String</span>
      <span>The number to format.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[options]</span>
      <span class="dox_type">String</span>
      <span>Options to modify the formatted output:
       <ul>
           <li>"^"  suppress grouping
           <li>"+"  force positive sign for positive amounts
           <li>"~"  suppress positive/negative sign
           <li>".n" specify decimal precision 'n'
       </ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">format</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">number</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="nx">number</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_trim</span><span class="p">(</span><span class="nx">number</span><span class="p">);</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isNumber</span><span class="p">(</span><span class="nx">number</span><span class="p">))</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: The input is not a number&quot;</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">floatAmount</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96">&#182;</a>
</div>
<p>get the required precision</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">reqPrecision</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_getPrecision</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97">&#182;</a>
</div>
<p>round to required precision</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">reqPrecision</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
      <span class="nx">floatAmount</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">floatAmount</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">reqPrecision</span><span class="p">))</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">reqPrecision</span><span class="p">);</span>
    
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98">&#182;</a>
</div>
<p>convert the float number to string and parse into
object with properties integer and fraction</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">parsedAmount</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_splitNumber</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nx">floatAmount</span><span class="p">));</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99">&#182;</a>
</div>
<p>format integer part with grouping chars</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">formattedIntegerPart</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">floatAmount</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">formattedIntegerPart</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="nx">formattedIntegerPart</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">?</span>
        <span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">integer</span> <span class="o">:</span>
        <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatIntegerPart</span><span class="p">(</span><span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">integer</span><span class="p">,</span> 
                                   <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">grouping</span><span class="p">,</span> 
                 <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">thousands_sep</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100">&#182;</a>
</div>
<p>format the fractional part</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">formattedFractionPart</span> <span class="o">=</span>
      <span class="nx">reqPrecision</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span>
      <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatFractionPart</span><span class="p">(</span><span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">fraction</span><span class="p">,</span> <span class="nx">reqPrecision</span><span class="p">)</span> <span class="o">:</span>
      <span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">fraction</span><span class="p">;</span>
    
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101">&#182;</a>
</div>
<p>join the integer and fraction parts using the decimal_point property</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">formattedAmount</span> <span class="o">=</span>
      <span class="nx">formattedFractionPart</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span>
      <span class="nx">formattedIntegerPart</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">decimal_point</span> <span class="o">+</span> <span class="nx">formattedFractionPart</span> <span class="o">:</span>
      <span class="nx">formattedIntegerPart</span><span class="p">;</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102">&#182;</a>
</div>
<p>prepend sign?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">||</span> <span class="nx">floatAmount</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103">&#182;</a>
</div>
<p>suppress both '+' and '-' signs, i.e. return abs value</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">return</span> <span class="nx">formattedAmount</span><span class="p">;</span> 
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">||</span> <span class="nx">floatAmount</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">floatAmount</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104">&#182;</a>
</div>
<p>force '+' sign for positive amounts</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">return</span> <span class="s2">&quot;+&quot;</span> <span class="o">+</span> <span class="nx">formattedAmount</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">floatAmount</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105">&#182;</a>
</div>
<p>prepend '-' sign</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">return</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">formattedAmount</span><span class="p">;</span>
        <span class="k">else</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106">&#182;</a>
</div>
<p>zero case</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">return</span> <span class="nx">formattedAmount</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107">&#182;</a>
</div>
<p>positive amount with no '+' sign</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">return</span> <span class="nx">formattedAmount</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">locale</span>
      <span class="dox_type">jsworld.Locale</span>
      <span>A locale object specifying the required 
       POSIX LC_TIME formatting properties.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">DateTimeFormatter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>
  
    
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">locale</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">_className</span> <span class="o">!=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Constructor error: You must provide a valid jsworld.Locale instance.&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">lc</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>

  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">date</span>
      <span class="dox_type">Date</span>
      <span class="dox_type">String</span>
      <span>A valid Date object instance or a string
       containing a valid ISO-8601 formatted date, e.g. "2010-31-03" 
       or "2010-03-31 23:59:59".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">formatDate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">date</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110">&#182;</a>
</div>
<p>assume ISO-8601 date string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">try</span> <span class="p">{</span>
        <span class="nx">d</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoDate</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111">&#182;</a>
</div>
<p>try full ISO-8601 date/time string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nx">d</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoDateTime</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">date</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">date</span> <span class="o">==</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-112" id="section-112">&#182;</a>
</div>
<p>assume ready Date object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">d</span> <span class="o">=</span> <span class="nx">date</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid date argument, must be a Date object or an ISO-8601 date/time string&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_applyFormatting</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">d_fmt</span><span class="p">);</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-113" id="section-113">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">date</span>
      <span class="dox_type">Date</span>
      <span class="dox_type">String</span>
      <span>A valid Date object instance or a string
       containing a valid ISO-8601 formatted time, e.g. "23:59:59"
       or "2010-03-31 23:59:59".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">formatTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">date</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-114" id="section-114">&#182;</a>
</div>
<p>assume ISO-8601 time string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">try</span> <span class="p">{</span>
        <span class="nx">d</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoTime</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-115" id="section-115">&#182;</a>
</div>
<p>try full ISO-8601 date/time string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nx">d</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoDateTime</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">date</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">date</span> <span class="o">==</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-116" id="section-116">&#182;</a>
</div>
<p>assume ready Date object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">d</span> <span class="o">=</span> <span class="nx">date</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid date argument, must be a Date object or an ISO-8601 date/time string&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_applyFormatting</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">t_fmt</span><span class="p">);</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-117" id="section-117">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">date</span>
      <span class="dox_type">Date</span>
      <span class="dox_type">String</span>
      <span>A valid Date object instance or a string
       containing a valid ISO-8601 formatted date/time, e.g.
       "2010-03-31 23:59:59".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">formatDateTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">date</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-118" id="section-118">&#182;</a>
</div>
<p>assume ISO-8601 format</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">d</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">parseIsoDateTime</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">date</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">date</span> <span class="o">==</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-119" id="section-119">&#182;</a>
</div>
<p>assume ready Date object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">d</span> <span class="o">=</span> <span class="nx">date</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Invalid date argument, must be a Date object or an ISO-8601 date/time string&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_applyFormatting</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">d_t_fmt</span><span class="p">);</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-120" id="section-120">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">d</span>
      <span class="dox_type">Date</span>
      <span>A valid Date instance.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">s</span>
      <span class="dox_type">String</span>
      <span>The formatting string with '%' placeholders.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_applyFormatting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%%/g</span><span class="p">,</span> <span class="s1">&#39;%&#39;</span><span class="p">);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%a/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abday</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()]);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%A/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">day</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()]);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%b/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abmon</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()]);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%B/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()]);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%d/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%e/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_spacePad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%F/g</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span> <span class="o">+</span>
                 <span class="s2">&quot;-&quot;</span> <span class="o">+</span>
           <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
           <span class="s2">&quot;-&quot;</span> <span class="o">+</span>
           <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%h/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abmon</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()]);</span> <span class="c1">// same as %b</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%H/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%I/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_hours12</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%k/g</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">());</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%l/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_hours12</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%m/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%n/g</span><span class="p">,</span> <span class="s2">&quot;\n&quot;</span><span class="p">);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%M/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%p/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAmPm</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%P/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAmPm</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()).</span><span class="nx">toLocaleLowerCase</span><span class="p">());</span> <span class="c1">// safe?</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%R/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
          <span class="s2">&quot;:&quot;</span> <span class="o">+</span>
          <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%S/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getSeconds</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%T/g</span><span class="p">,</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getHours</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
          <span class="s2">&quot;:&quot;</span> <span class="o">+</span>
          <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span>
          <span class="s2">&quot;:&quot;</span> <span class="o">+</span>
          <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getSeconds</span><span class="p">(),</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%w/g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">day</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()]);</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%y/g</span><span class="p">,</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()).</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%Y/g</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">());</span>
    
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%Z/g</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span> <span class="c1">// to do: ignored until a reliable TMZ method found</span>
    
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%[a-zA-Z]/g</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span> <span class="c1">// ignore all other % sequences</span>
    
    <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-121" id="section-121">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">hour24</span>
      <span class="dox_type">integerNumber</span>
      <span>Hour [0..23].</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_hours12</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">hour24</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">hour24</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
      <span class="k">return</span> <span class="mi">12</span><span class="p">;</span> <span class="c1">// 00h is 12AM</span>
      
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">hour24</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">hour24</span> <span class="o">-</span> <span class="mi">12</span><span class="p">;</span> <span class="c1">// 1PM to 11PM</span>
    
    <span class="k">else</span>
      <span class="k">return</span> <span class="nx">hour24</span><span class="p">;</span> <span class="c1">// 1AM to 12PM</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-122" id="section-122">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">hour24</span>
      <span class="dox_type">integerNumber</span>
      <span>Hour [0..23].</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_getAmPm</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">hour24</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">hour24</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">am</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">pm</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>




</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-123" id="section-123">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">locale</span>
      <span class="dox_type">jsworld.Locale</span>
      <span>A locale object specifying the required 
       POSIX LC_MONETARY formatting properties.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[currencyCode]</span>
      <span class="dox_type">String</span>
      <span>Set the currency explicitly by
       passing its international ISO-4217 code, e.g. "USD", "EUR", "GBP".
       Use this optional parameter to override the default local currency</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[altIntSymbol]</span>
      <span class="dox_type">String</span>
      <span>Non-local currencies are formatted
       with their international ISO-4217 code to prevent ambiguity.
       Use this optional argument to force a different symbol, such as the
       currency's shorthand sign. This is mostly useful when the shorthand
       sign is both internationally recognised and identifies the currency
       uniquely (e.g. the Euro sign).</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">MonetaryFormatter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">locale</span><span class="p">,</span> <span class="nx">currencyCode</span><span class="p">,</span> <span class="nx">altIntSymbol</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">locale</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">_className</span> <span class="o">!=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Constructor error: You must provide a valid jsworld.Locale instance&quot;</span><span class="p">;</span>
  
  <span class="k">this</span><span class="p">.</span><span class="nx">lc</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-124" id="section-124">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">currencyFractionDigits</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;AFN&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ALL&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;AMD&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;BHD&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;BIF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;BYR&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;CLF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;CLP&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;COP&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;CRC&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;DJF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;GNF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;GYD&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;HUF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;IDR&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;IQD&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;IRR&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ISK&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;JOD&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;JPY&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;KMF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;KRW&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;KWD&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;LAK&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;LBP&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;LYD&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;MGA&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;MMK&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;MNT&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;MRO&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;MUR&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;OMR&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;PKR&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;PYG&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;RSD&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;RWF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;SLL&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;SOS&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;STD&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;SYP&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;TND&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;TWD&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TZS&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;UGX&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;UZS&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;VND&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;VUV&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;XAF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;XOF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;XPF&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s2">&quot;YER&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ZMK&quot;</span> <span class="o">:</span> <span class="mi">0</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-125" id="section-125">&#182;</a>
</div>
<p>optional currencyCode argument?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">currencyCode</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-126" id="section-126">&#182;</a>
</div>
<p>user wanted to override the local currency</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">=</span> <span class="nx">currencyCode</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-127" id="section-127">&#182;</a>
</div>
<p>must override the frac digits too, for some
currencies have 0, 2 or 3!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">numDigits</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyFractionDigits</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">numDigits</span> <span class="o">!=</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
      <span class="nx">numDigits</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// default for most currencies</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">frac_digits</span> <span class="o">=</span> <span class="nx">numDigits</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_frac_digits</span> <span class="o">=</span> <span class="nx">numDigits</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-128" id="section-128">&#182;</a>
</div>
<p>use local currency</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_curr_symbol</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>
  <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-129" id="section-129">&#182;</a>
</div>
<p>extract intl. currency separator</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_curr_symbol</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-130" id="section-130">&#182;</a>
</div>
<p>flag local or intl. sign formatting?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">==</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_curr_symbol</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-131" id="section-131">&#182;</a>
</div>
<p>currency matches the local one? ->
formatting with local symbol and parameters</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">currency_symbol</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-132" id="section-132">&#182;</a>
</div>
<p>currency doesn't match the local -></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-133" id="section-133">&#182;</a>
</div>
<p>do we have an overriding currency symbol?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">altIntSymbol</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-134" id="section-134">&#182;</a>
</div>
<p>-> force formatting with local parameters, using alt symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">=</span> <span class="nx">altIntSymbol</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-135" id="section-135">&#182;</a>
</div>
<p>-> force formatting with intl. sign and parameters</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-136" id="section-136">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getCurrencySymbol</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-137" id="section-137">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">intFlag</span>
      <span class="dox_type">String</span>
      <span>Optional flag to force international
formatting by passing the string "i".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">currencySymbolPrecedes</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">intFlag</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">intFlag</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">intFlag</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-138" id="section-138">&#182;</a>
</div>
<p>international formatting was forced</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-139" id="section-139">&#182;</a>
</div>
<p>check whether local formatting is on or off</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
          <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
          <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-140" id="section-140">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getDecimalPoint</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon_decimal_point</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-141" id="section-141">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">intFlag</span>
      <span class="dox_type">String</span>
      <span>Optional flag to force international
       formatting by passing the string "i".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">getFractionalDigits</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">intFlag</span><span class="p">)</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">intFlag</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">intFlag</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-142" id="section-142">&#182;</a>
</div>
<p>international formatting was forced</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_frac_digits</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-143" id="section-143">&#182;</a>
</div>
<p>check whether local formatting is on or off</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_frac_digits</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">frac_digits</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-144" id="section-144">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">amount</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">String</span>
      <span>The amount to format as currency.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[options]</span>
      <span class="dox_type">String</span>
      <span>Options to modify the formatted output:
      <ul>
          <li>"^"  suppress grouping
          <li>"!"  suppress the currency symbol
          <li>"~"  suppress the currency symbol and the sign (positive or negative)
          <li>"i"  force international sign (ISO-4217 code) formatting
          <li>".n" specify decimal precision</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">format</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">amount</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-145" id="section-145">&#182;</a>
</div>
<p>if the amount is passed as string, check that it parses to a float</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">floatAmount</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">amount</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">amount</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_trim</span><span class="p">(</span><span class="nx">amount</span><span class="p">);</span>
      <span class="nx">floatAmount</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">amount</span><span class="p">);</span>
      
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">floatAmount</span> <span class="o">!=</span> <span class="s2">&quot;number&quot;</span> <span class="o">||</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">floatAmount</span><span class="p">))</span>
        <span class="k">throw</span> <span class="s2">&quot;Error: Amount string not a number&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">amount</span> <span class="o">==</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">floatAmount</span> <span class="o">=</span> <span class="nx">amount</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="s2">&quot;Error: Amount not a number&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-146" id="section-146">&#182;</a>
</div>
<p>get the required precision, ".n" option arg overrides default locale config</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">reqPrecision</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_getPrecision</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">reqPrecision</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span> <span class="o">||</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">))</span>
        <span class="nx">reqPrecision</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_frac_digits</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="nx">reqPrecision</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">frac_digits</span><span class="p">;</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-147" id="section-147">&#182;</a>
</div>
<p>round</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">floatAmount</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">floatAmount</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">reqPrecision</span><span class="p">))</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">reqPrecision</span><span class="p">);</span>
    
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-148" id="section-148">&#182;</a>
</div>
<p>convert the float amount to string and parse into
object with properties integer and fraction</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">parsedAmount</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_splitNumber</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nx">floatAmount</span><span class="p">));</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-149" id="section-149">&#182;</a>
</div>
<p>format integer part with grouping chars</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">formattedIntegerPart</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">floatAmount</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">formattedIntegerPart</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="nx">formattedIntegerPart</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">?</span>
        <span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">integer</span> <span class="o">:</span>
        <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatIntegerPart</span><span class="p">(</span><span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">integer</span><span class="p">,</span> 
                                   <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon_grouping</span><span class="p">,</span> 
                 <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon_thousands_sep</span><span class="p">);</span>
    
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-150" id="section-150">&#182;</a>
</div>
<p>format the fractional part</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">formattedFractionPart</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">reqPrecision</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-151" id="section-151">&#182;</a>
</div>
<p>pad fraction with trailing zeros accoring to default locale [int_]frac_digits</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span> <span class="o">||</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">))</span>
        <span class="nx">formattedFractionPart</span> <span class="o">=</span>
          <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatFractionPart</span><span class="p">(</span><span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">fraction</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_frac_digits</span><span class="p">);</span>
      <span class="k">else</span>
        <span class="nx">formattedFractionPart</span> <span class="o">=</span>
          <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatFractionPart</span><span class="p">(</span><span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">fraction</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">frac_digits</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-152" id="section-152">&#182;</a>
</div>
<p>pad fraction with trailing zeros according to optional format parameter</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">formattedFractionPart</span> <span class="o">=</span>
        <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_formatFractionPart</span><span class="p">(</span><span class="nx">parsedAmount</span><span class="p">.</span><span class="nx">fraction</span><span class="p">,</span> <span class="nx">reqPrecision</span><span class="p">);</span>
    <span class="p">}</span>
    
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-153" id="section-153">&#182;</a>
</div>
<p>join integer and decimal parts using the mon_decimal_point property</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">quantity</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">frac_digits</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">formattedFractionPart</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
      <span class="nx">quantity</span> <span class="o">=</span> <span class="nx">formattedIntegerPart</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon_decimal_point</span> <span class="o">+</span> <span class="nx">formattedFractionPart</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="nx">quantity</span> <span class="o">=</span> <span class="nx">formattedIntegerPart</span><span class="p">;</span>
    
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-154" id="section-154">&#182;</a>
</div>
<p>do final formatting with sign and symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">quantity</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">suppressSymbol</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>
      
      <span class="kd">var</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">floatAmount</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s2">&quot;-&quot;</span> <span class="o">:</span> <span class="s2">&quot;+&quot;</span><span class="p">;</span>
      
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internationalFormatting</span> <span class="o">||</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_hasOption</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="nx">options</span><span class="p">))</span> <span class="p">{</span>
        

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-155" id="section-155">&#182;</a>
</div>
<p>format with ISO-4217 code (suppressed or not)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">suppressSymbol</span><span class="p">)</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsInternationalCurrencyWithNoSym</span><span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">);</span>
        <span class="k">else</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsInternationalCurrency</span><span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-156" id="section-156">&#182;</a>
</div>
<p>format with local currency code (suppressed or not)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">suppressSymbol</span><span class="p">)</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsLocalCurrencyWithNoSym</span><span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">);</span>
        <span class="k">else</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsLocalCurrency</span><span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-157" id="section-157">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">sign</span>
      <span class="dox_type">String</span>
      <span>The amount sign: "+" or "-".</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">q</span>
      <span class="dox_type">String</span>
      <span>The formatted quantity (unsigned).</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsLocalCurrency</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">q</span><span class="p">)</span> <span class="p">{</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-158" id="section-158">&#182;</a>
</div>
<p>assemble final formatted amount by going over all possible value combinations of:
sign {+,-} , sign position {0,1,2,3,4} , separator {0,1,2} , symbol position {0,1}</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-159" id="section-159">&#182;</a>
</div>
<p>parentheses</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-160" id="section-160">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-161" id="section-161">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-162" id="section-162">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-163" id="section-163">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-164" id="section-164">&#182;</a>
</div>
<p>parentheses enclose q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-165" id="section-165">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-166" id="section-166">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-167" id="section-167">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-168" id="section-168">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">curSym</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-169" id="section-169">&#182;</a>
</div>
<p>throw error if we fall through</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid POSIX LC MONETARY definition&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-170" id="section-170">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">sign</span>
      <span class="dox_type">String</span>
      <span>The amount sign: "+" or "-".</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">q</span>
      <span class="dox_type">String</span>
      <span>The formatted quantity (unsigned).</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsInternationalCurrency</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">q</span><span class="p">)</span> <span class="p">{</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-171" id="section-171">&#182;</a>
</div>
<p>assemble the final formatted amount by going over all possible value combinations of:
sign {+,-} , sign position {0,1,2,3,4} , separator {0,1,2} , symbol position {0,1}</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-172" id="section-172">&#182;</a>
</div>
<p>parentheses</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-173" id="section-173">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-174" id="section-174">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-175" id="section-175">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-176" id="section-176">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-177" id="section-177">&#182;</a>
</div>
<p>parentheses enclose q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-178" id="section-178">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-179" id="section-179">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-180" id="section-180">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-181" id="section-181">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currencyCode</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-182" id="section-182">&#182;</a>
</div>
<p>throw error if we fall through</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid POSIX LC MONETARY definition&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-183" id="section-183">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">sign</span>
      <span class="dox_type">String</span>
      <span>The amount sign: "+" or "-".</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">q</span>
      <span class="dox_type">String</span>
      <span>The formatted quantity (unsigned).</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsLocalCurrencyWithNoSym</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">q</span><span class="p">)</span> <span class="p">{</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-184" id="section-184">&#182;</a>
</div>
<p>assemble the final formatted amount by going over all possible value combinations of:
sign {+,-} , sign position {0,1,2,3,4} , separator {0,1,2} , symbol position {0,1}</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-185" id="section-185">&#182;</a>
</div>
<p>parentheses</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-186" id="section-186">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-187" id="section-187">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-188" id="section-188">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-189" id="section-189">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-190" id="section-190">&#182;</a>
</div>
<p>parentheses enclose q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-191" id="section-191">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-192" id="section-192">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-193" id="section-193">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-194" id="section-194">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-195" id="section-195">&#182;</a>
</div>
<p>throw error if we fall through</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid POSIX LC MONETARY definition&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-196" id="section-196">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">sign</span>
      <span class="dox_type">String</span>
      <span>The amount sign: "+" or "-".</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">q</span>
      <span class="dox_type">String</span>
      <span>The formatted quantity (unsigned).</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_formatAsInternationalCurrencyWithNoSym</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sign</span><span class="p">,</span> <span class="nx">q</span><span class="p">)</span> <span class="p">{</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-197" id="section-197">&#182;</a>
</div>
<p>assemble the final formatted amount by going over all possible value combinations of:
sign {+,-} , sign position {0,1,2,3,4} , separator {0,1,2} , symbol position {0,1}</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-198" id="section-198">&#182;</a>
</div>
<p>parentheses</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-199" id="section-199">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-200" id="section-200">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-201" id="section-201">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-202" id="section-202">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="p">{</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-203" id="section-203">&#182;</a>
</div>
<p>parentheses enclose q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span>      <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">q</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-204" id="section-204">&#182;</a>
</div>
<p>sign before q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-205" id="section-205">&#182;</a>
</div>
<p>sign after q + sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-206" id="section-206">&#182;</a>
</div>
<p>sign before sym</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-207" id="section-207">&#182;</a>
</div>
<p>sign after symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span>  <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">q</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">intSep</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sep_by_space</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-208" id="section-208">&#182;</a>
</div>
<p>throw error if we fall through</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">throw</span> <span class="s2">&quot;Error: Invalid POSIX LC_MONETARY definition&quot;</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-209" id="section-209">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">locale</span>
      <span class="dox_type">jsworld.Locale</span>
      <span>A locale object specifying the required 
       POSIX LC_NUMERIC formatting properties.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">NumericParser</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">locale</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">_className</span> <span class="o">!=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Constructor error: You must provide a valid jsworld.Locale instance&quot;</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">lc</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-210" id="section-210">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formattedNumber</span>
      <span class="dox_type">String</span>
      <span>The formatted number.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">parse</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formattedNumber</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">formattedNumber</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Argument must be a string&quot;</span><span class="p">;</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-211" id="section-211">&#182;</a>
</div>
<p>trim whitespace</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_trim</span><span class="p">(</span><span class="nx">formattedNumber</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-212" id="section-212">&#182;</a>
</div>
<p>remove any thousand separator symbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringReplaceAll</span><span class="p">(</span><span class="nx">formattedNumber</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">thousands_sep</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-213" id="section-213">&#182;</a>
</div>
<p>replace any local decimal point symbols with the symbol used
in JavaScript "."</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringReplaceAll</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">decimal_point</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-214" id="section-214">&#182;</a>
</div>
<p>test if the string represents a number</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isNumber</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span>
      <span class="k">return</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>   
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Invalid number string&quot;</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-215" id="section-215">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">locale</span>
      <span class="dox_type">jsworld.Locale</span>
      <span>A locale object specifying the required 
       POSIX LC_TIME formatting properties.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">DateTimeParser</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">locale</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">_className</span> <span class="o">!=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Constructor error: You must provide a valid jsworld.Locale instance.&quot;</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">lc</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>

  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-216" id="section-216">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formattedTime</span>
      <span class="dox_type">String</span>
      <span>The formatted time.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">parseTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formattedTime</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">formattedTime</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Argument must be a string&quot;</span><span class="p">;</span>
  
    <span class="kd">var</span> <span class="nx">dt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_extractTokens</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">t_fmt</span><span class="p">,</span> <span class="nx">formattedTime</span><span class="p">);</span>
    
    <span class="kd">var</span> <span class="nx">timeDefined</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">second</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">timeDefined</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">am</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">second</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">am</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-217" id="section-217">&#182;</a>
</div>
<p>AM [12(midnight), 1 .. 11]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">==</span> <span class="mi">12</span><span class="p">)</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-218" id="section-218">&#182;</a>
</div>
<p>PM [12(noon), 1 .. 11]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">==</span> <span class="mi">12</span><span class="p">)</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">12</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">timeDefined</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">timeDefined</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;:&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;:&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">second</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Invalid/ambiguous time string&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-219" id="section-219">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formattedDate</span>
      <span class="dox_type">String</span>
      <span>The formatted date, must be valid.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">parseDate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formattedDate</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">formattedDate</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Argument must be a string&quot;</span><span class="p">;</span>
  
    <span class="kd">var</span> <span class="nx">dt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_extractTokens</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">d_fmt</span><span class="p">,</span> <span class="nx">formattedDate</span><span class="p">);</span>
    
    <span class="kd">var</span> <span class="nx">dateDefined</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">year</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">dateDefined</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">dateDefined</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;-&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">month</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;-&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">day</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Invalid date string&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-220" id="section-220">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formattedDateTime</span>
      <span class="dox_type">String</span>
      <span>The formatted date/time, must be
       valid.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">parseDateTime</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formattedDateTime</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">formattedDateTime</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Argument must be a string&quot;</span><span class="p">;</span>
    
    <span class="kd">var</span> <span class="nx">dt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_extractTokens</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">d_t_fmt</span><span class="p">,</span> <span class="nx">formattedDateTime</span><span class="p">);</span>
    
    <span class="kd">var</span> <span class="nx">timeDefined</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">dateDefined</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">second</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">timeDefined</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">am</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">second</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">am</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-221" id="section-221">&#182;</a>
</div>
<p>AM [12(midnight), 1 .. 11]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">==</span> <span class="mi">12</span><span class="p">)</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-222" id="section-222">&#182;</a>
</div>
<p>PM [12(noon), 1 .. 11]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">==</span> <span class="mi">12</span><span class="p">)</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">12</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">timeDefined</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">year</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">dateDefined</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">dateDefined</span> <span class="o">&amp;&amp;</span> <span class="nx">timeDefined</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;-&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">month</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;-&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">day</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot; &quot;</span> <span class="o">+</span>
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;:&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> 
             <span class="s2">&quot;:&quot;</span> <span class="o">+</span> 
             <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_zeroPad</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">second</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Invalid/ambiguous date/time string&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-223" id="section-223">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">fmtSpec</span>
      <span class="dox_type">String</span>
      <span>The format specification, e.g. "%I:%M:%S %p".</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">s</span>
      <span class="dox_type">String</span>
      <span>The string to parse.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_extractTokens</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fmtSpec</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-224" id="section-224">&#182;</a>
</div>
<p>the return object containing the parsed date/time properties</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">dt</span> <span class="o">=</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-225" id="section-225">&#182;</a>
</div>
<p>for date and date/time strings</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="s2">&quot;year&quot;</span>     <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;month&quot;</span>    <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;day&quot;</span>      <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-226" id="section-226">&#182;</a>
</div>
<p>for time and date/time strings</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="s2">&quot;hour&quot;</span>     <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;hourAmPm&quot;</span> <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;am&quot;</span>       <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;minute&quot;</span>   <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">&quot;second&quot;</span>   <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-227" id="section-227">&#182;</a>
</div>
<p>used internally only</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="s2">&quot;weekday&quot;</span>  <span class="o">:</span> <span class="kc">null</span>
    <span class="p">};</span>

  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-228" id="section-228">&#182;</a>
</div>
<p>extract and process each token in the date/time spec</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">while</span> <span class="p">(</span><span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-229" id="section-229">&#182;</a>
</div>
<p>Do we have a valid "%\w" placeholder in stream?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;%&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">{</span>
        

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-230" id="section-230">&#182;</a>
</div>
<p>get placeholder</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="kd">var</span> <span class="nx">placeholder</span> <span class="o">=</span> <span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%%&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-231" id="section-231">&#182;</a>
</div>
<p>escaped '%''</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%a&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-232" id="section-232">&#182;</a>
</div>
<p>abbreviated weekday name</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abday</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          
            <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abday</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span> <span class="p">{</span>
              <span class="nx">dt</span><span class="p">.</span><span class="nx">weekday</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
              <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abday</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">length</span><span class="p">);</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">}</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">weekday</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised abbreviated weekday name (%a)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%A&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-233" id="section-233">&#182;</a>
</div>
<p>weekday name</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">day</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          
            <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">day</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span> <span class="p">{</span>
              <span class="nx">dt</span><span class="p">.</span><span class="nx">weekday</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
              <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">day</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">length</span><span class="p">);</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">}</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">weekday</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised weekday name (%A)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%b&quot;</span> <span class="o">||</span> <span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%h&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-234" id="section-234">&#182;</a>
</div>
<p>abbreviated month name</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abmon</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      
            <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abmon</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span> <span class="p">{</span>
              <span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
              <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">abmon</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">length</span><span class="p">);</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">}</span>

          <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised abbreviated month name (%b)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%B&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-235" id="section-235">&#182;</a>
</div>
<p>month name</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      
            <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span> <span class="p">{</span>
              <span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
              <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">length</span><span class="p">);</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">}</span>

          <span class="k">if</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised month name (%B)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%d&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-236" id="section-236">&#182;</a>
</div>
<p>day of the month [01..31]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^0[1-9]|[1-2][0-9]|3[0-1]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised day of the month (%d)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%e&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-237" id="section-237">&#182;</a>
</div>
<p>day of the month [1..31]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-238" id="section-238">&#182;</a>
</div>
<p>Note: if %e is leading in fmt string -> space padded!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          
          <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^\s?(\d{1,2})/</span><span class="p">);</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">day</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">day</span><span class="p">)</span> <span class="o">||</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">&gt;</span> <span class="mi">31</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised day of the month (%e)&quot;</span><span class="p">;</span>
          
          <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">day</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%F&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-239" id="section-239">&#182;</a>
</div>
<p>equivalent to %Y-%m-%d (ISO-8601 date format)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-240" id="section-240">&#182;</a>
</div>
<p>year [nnnn]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^\d\d\d\d/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised date (%F)&quot;</span><span class="p">;</span>
          <span class="p">}</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-241" id="section-241">&#182;</a>
</div>
<p>-</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">))</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised date (%F)&quot;</span><span class="p">;</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-242" id="section-242">&#182;</a>
</div>
<p>month [01..12]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^0[1-9]|1[0-2]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised date (%F)&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-243" id="section-243">&#182;</a>
</div>
<p>-</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">))</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised date (%F)&quot;</span><span class="p">;</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-244" id="section-244">&#182;</a>
</div>
<p>day of the month [01..31]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^0[1-9]|[1-2][0-9]|3[0-1]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">day</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised date (%F)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%H&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-245" id="section-245">&#182;</a>
</div>
<p>hour [00..23]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-1][0-9]|2[0-3]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised hour (%H)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%I&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-246" id="section-246">&#182;</a>
</div>
<p>hour [01..12]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^0[1-9]|1[0-2]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised hour (%I)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%k&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-247" id="section-247">&#182;</a>
</div>
<p>hour [0..23]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d{1,2})/</span><span class="p">);</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span><span class="p">)</span> <span class="o">||</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">&gt;</span> <span class="mi">23</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised hour (%k)&quot;</span><span class="p">;</span>
          
          <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%l&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-248" id="section-248">&#182;</a>
</div>
<p>hour AM/PM [1..12]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^(\d{1,2})/</span><span class="p">);</span>
          <span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span><span class="p">)</span> <span class="o">||</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">hourAmPm</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised hour (%l)&quot;</span><span class="p">;</span>
          
          <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%m&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-249" id="section-249">&#182;</a>
</div>
<p>month [01..12]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^0[1-9]|1[0-2]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised month (%m)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%M&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-250" id="section-250">&#182;</a>
</div>
<p>minute [00..59]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-5][0-9]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised minute (%M)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%n&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-251" id="section-251">&#182;</a>
</div>
<p>new line</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          
          <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;\n&quot;</span><span class="p">)</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised new line (%n)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%p&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-252" id="section-252">&#182;</a>
</div>
<p>locale's equivalent of AM/PM</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">am</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">am</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">am</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">pm</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">am</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">pm</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised AM/PM value (%p)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%P&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-253" id="section-253">&#182;</a>
</div>
<p>same as %p but forced lower case</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">am</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">am</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">am</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">pm</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">am</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">pm</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised AM/PM value (%P)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%R&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-254" id="section-254">&#182;</a>
</div>
<p>same as %H:%M</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-255" id="section-255">&#182;</a>
</div>
<p>hour [00..23]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-1][0-9]|2[0-3]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%R)&quot;</span><span class="p">;</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-256" id="section-256">&#182;</a>
</div>
<p>:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">))</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%R)&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-257" id="section-257">&#182;</a>
</div>
<p>minute [00..59]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-5][0-9]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%R)&quot;</span><span class="p">;</span>

        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%S&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-258" id="section-258">&#182;</a>
</div>
<p>second [00..59]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-5][0-9]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">second</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised second (%S)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%T&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-259" id="section-259">&#182;</a>
</div>
<p>same as %H:%M:%S</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-260" id="section-260">&#182;</a>
</div>
<p>hour [00..23]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-1][0-9]|2[0-3]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">hour</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%T)&quot;</span><span class="p">;</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-261" id="section-261">&#182;</a>
</div>
<p>:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">))</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%T)&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-262" id="section-262">&#182;</a>
</div>
<p>minute [00..59]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-5][0-9]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">minute</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>  
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%T)&quot;</span><span class="p">;</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-263" id="section-263">&#182;</a>
</div>
<p>:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringStartsWith</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">))</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%T)&quot;</span><span class="p">;</span>
          

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-264" id="section-264">&#182;</a>
</div>
<p>second [00..59]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^[0-5][0-9]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">second</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised time (%T)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%w&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-265" id="section-265">&#182;</a>
</div>
<p>weekday [0..6]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^\d/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">weekday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> 
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised weekday number (%w)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%y&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-266" id="section-266">&#182;</a>
</div>
<p>year [00..99]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^\d\d/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">year2digits</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-267" id="section-267">&#182;</a>
</div>
<p>this conversion to year[nnnn] is arbitrary!!!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="nx">year2digits</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span>
              <span class="nx">dt</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="mi">1900</span> <span class="o">+</span> <span class="nx">year2digits</span><span class="p">;</span>
            <span class="k">else</span>
              <span class="nx">dt</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="mi">2000</span> <span class="o">+</span> <span class="nx">year2digits</span><span class="p">;</span>
            
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised year (%y)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%Y&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-268" id="section-268">&#182;</a>
</div>
<p>year [nnnn]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^\d\d\d\d/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">dt</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="mi">10</span><span class="p">);</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span>
            <span class="k">throw</span> <span class="s2">&quot;Parse error: Unrecognised year (%Y)&quot;</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">placeholder</span> <span class="o">==</span> <span class="s2">&quot;%Z&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-269" id="section-269">&#182;</a>
</div>
<p>time-zone place holder is not supported</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
          
          <span class="k">if</span> <span class="p">(</span><span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">break</span><span class="p">;</span> <span class="c1">// ignore rest of fmt spec</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-270" id="section-270">&#182;</a>
</div>
<p>remove the spec placeholder that was just parsed</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nx">fmtSpec</span> <span class="o">=</span> <span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-271" id="section-271">&#182;</a>
</div>
<p>If we don't have a placeholder, the chars
at pos. 0 of format spec and parsed string must match</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-272" id="section-272">&#182;</a>
</div>
<p>Note: Space chars treated 1:1 !</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        
        <span class="k">if</span> <span class="p">(</span><span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
          <span class="k">throw</span> <span class="s2">&quot;Parse error: Unexpected symbol \&quot;&quot;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;\&quot; in date/time string&quot;</span><span class="p">;</span>
      
        <span class="nx">fmtSpec</span> <span class="o">=</span> <span class="nx">fmtSpec</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-273" id="section-273">&#182;</a>
</div>
<p>parsing finished, return composite date/time object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">return</span> <span class="nx">dt</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-274" id="section-274">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">locale</span>
      <span class="dox_type">jsworld.Locale</span>
      <span>A locale object specifying the required 
       POSIX LC_MONETARY formatting properties.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jsworld</span><span class="p">.</span><span class="nx">MonetaryParser</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">locale</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">locale</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">locale</span><span class="p">.</span><span class="nx">_className</span> <span class="o">!=</span> <span class="s2">&quot;jsworld.Locale&quot;</span><span class="p">)</span>
    <span class="k">throw</span> <span class="s2">&quot;Constructor error: You must provide a valid jsworld.Locale instance&quot;</span><span class="p">;</span>


  <span class="k">this</span><span class="p">.</span><span class="nx">lc</span> <span class="o">=</span> <span class="nx">locale</span><span class="p">;</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-275" id="section-275">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formattedCurrency</span>
      <span class="dox_type">String</span>
      <span>The formatted currency amount.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">parse</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">formattedCurrency</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Argument must be a string&quot;</span><span class="p">;</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-276" id="section-276">&#182;</a>
</div>
<p>Detect the format type and remove the currency symbol</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">symbolType</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_detectCurrencySymbolType</span><span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">);</span>
  
    <span class="kd">var</span> <span class="nx">formatType</span><span class="p">,</span> <span class="nx">s</span><span class="p">;</span>
  
    <span class="k">if</span> <span class="p">(</span><span class="nx">symbolType</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">formatType</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span><span class="p">;</span>
      <span class="nx">s</span> <span class="o">=</span> <span class="nx">formattedCurrency</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getCurrencySymbol</span><span class="p">(),</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">symbolType</span> <span class="o">==</span> <span class="s2">&quot;int&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">formatType</span> <span class="o">=</span> <span class="s2">&quot;int&quot;</span><span class="p">;</span>
      <span class="nx">s</span> <span class="o">=</span> <span class="nx">formattedCurrency</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getIntCurrencySymbol</span><span class="p">(),</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">symbolType</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">formatType</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span><span class="p">;</span> <span class="c1">// assume local</span>
      <span class="nx">s</span> <span class="o">=</span> <span class="nx">formattedCurrency</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Internal assert failure&quot;</span><span class="p">;</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-277" id="section-277">&#182;</a>
</div>
<p>Remove any thousands separators</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">jsworld</span><span class="p">.</span><span class="nx">_stringReplaceAll</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon_thousands_sep</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-278" id="section-278">&#182;</a>
</div>
<p>Replace any local radix char with JavaScript's "."</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">mon_decimal_point</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-279" id="section-279">&#182;</a>
</div>
<p>Remove all whitespaces</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s*/g</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-280" id="section-280">&#182;</a>
</div>
<p>Remove any local non-negative sign</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_removeLocalNonNegativeSign</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">formatType</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-281" id="section-281">&#182;</a>
</div>
<p>Replace any local minus sign with JavaScript's "-" and put
it in front of the amount if necessary
(special parentheses rule checked too)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_normaliseNegativeSign</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">formatType</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-282" id="section-282">&#182;</a>
</div>
<p>Finally, we should be left with a bare parsable decimal number</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">jsworld</span><span class="p">.</span><span class="nx">_isNumber</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span>
      <span class="k">return</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="s2">&quot;Parse error: Invalid currency amount string&quot;</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-283" id="section-283">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formattedCurrency</span>
      <span class="dox_type">String</span>
      <span>The the formatted currency string.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>With possible values "local", "int" or "none".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_detectCurrencySymbolType</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">)</span> <span class="p">{</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-284" id="section-284">&#182;</a>
</div>
<p>Check for whichever sign (int/local) is longer first
to cover cases such as MOP/MOP$ and ZAR/R</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getCurrencySymbol</span><span class="p">().</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getIntCurrencySymbol</span><span class="p">().</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    
      <span class="k">if</span> <span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getCurrencySymbol</span><span class="p">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;local&quot;</span><span class="p">;</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getIntCurrencySymbol</span><span class="p">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;int&quot;</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="s2">&quot;none&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getIntCurrencySymbol</span><span class="p">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;int&quot;</span><span class="p">;</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">formattedCurrency</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">getCurrencySymbol</span><span class="p">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;local&quot;</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="s2">&quot;none&quot;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-285" id="section-285">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">s</span>
      <span class="dox_type">String</span>
      <span>The input string.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formatType</span>
      <span class="dox_type">String</span>
      <span>With possible values "local" or "int".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_removeLocalNonNegativeSign</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">formatType</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">positive_sign</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-286" id="section-286">&#182;</a>
</div>
<p>check for enclosing parentheses rule</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(((</span><span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">p_sign_posn</span>     <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span>
         <span class="p">(</span><span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;int&quot;</span>   <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_p_sign_posn</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>    <span class="p">)</span> <span class="o">&amp;&amp;</span>
          <span class="sr">/\(\d+\.?\d*\)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
      <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
  <span class="p">};</span>
  
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-287" id="section-287">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">s</span>
      <span class="dox_type">String</span>
      <span>The input string.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">formatType</span>
      <span class="dox_type">String</span>
      <span>With possible values "local" or "int".</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">_normaliseNegativeSign</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">formatType</span><span class="p">)</span> <span class="p">{</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-288" id="section-288">&#182;</a>
</div>
<p>replace local negative symbol with JavaScript's "-"</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">negative_sign</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">);</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-289" id="section-289">&#182;</a>
</div>
<p>check for enclosing parentheses rule and replace them
with negative sign before the amount</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">((</span><span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span>     <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span>
        <span class="p">(</span><span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;int&quot;</span>   <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>    <span class="p">)</span> <span class="p">{</span>
        
      <span class="k">if</span> <span class="p">(</span><span class="sr">/^\(\d+\.?\d*\)$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
         
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-290" id="section-290">&#182;</a>
</div>
<p>check for rule negative sign succeeding the amount</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span>     <span class="o">==</span> <span class="mi">2</span> <span class="o">||</span>
        <span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;int&quot;</span>   <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">==</span> <span class="mi">2</span>   <span class="p">)</span> <span class="p">{</span>
    
      <span class="k">if</span> <span class="p">(</span><span class="sr">/^\d+\.?\d*-$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-291" id="section-291">&#182;</a>
</div>
<p>check for rule cur. sym. succeeds and sign adjacent</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="p">(</span><span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span>     <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span>     <span class="o">==</span> <span class="mi">3</span> <span class="o">||</span>
        <span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_cs_precedes</span>     <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">n_sign_posn</span>     <span class="o">==</span> <span class="mi">4</span> <span class="o">||</span>
        <span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;int&quot;</span>   <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">==</span> <span class="mi">3</span> <span class="o">||</span>
        <span class="nx">formatType</span> <span class="o">==</span> <span class="s2">&quot;int&quot;</span>   <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_cs_precedes</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">lc</span><span class="p">.</span><span class="nx">int_n_sign_posn</span> <span class="o">==</span> <span class="mi">4</span>    <span class="p">)</span> <span class="p">{</span>
        
          <span class="k">if</span> <span class="p">(</span><span class="sr">/^\d+\.?\d*-$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-292" id="section-292">&#182;</a>
</div>
<p>end-of-file</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
