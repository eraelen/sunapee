<!DOCTYPE html>
<html>
<head>
  <title>missing</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../", thisFile = "node_modules/sqlite3/deps/sqlite3/missing", defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>missing</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="c">#! /bin/sh</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>Common stub for a few missing GNU programs while installing.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nv">scriptversion</span><span class="o">=</span>2005-06-08.21


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>Copyright (C) 1996, 1997, 1999, 2000, 2002, 2003, 2004, 2005
  Free Software Foundation, Inc.
Originally by Fran,cois Pinard <a href="m&#97;&#x69;&#x6C;&#x74;&#x6F;:&#x70;&#105;&#110;&#x61;r&#100;&#64;&#105;&#114;&#111;&#46;&#117;&#x6D;&#x6F;&#x6E;&#116;&#114;&#x65;&#x61;&#108;.c&#x61;">&#x70;&#105;&#110;&#x61;r&#100;&#64;&#105;&#114;&#111;&#46;&#117;&#x6D;&#x6F;&#x6E;&#116;&#114;&#x65;&#x61;&#108;.c&#x61;</a>, 1996.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2, or (at your option)
any later version.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p>You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
02110-1301, USA.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>As a special exception to the GNU General Public License, if you
distribute this file as part of a program that contains a
configuration script generated by Autoconf, you may include it under
the same distribution terms that you use for the rest of that program.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="k">if </span><span class="nb">test</span> <span class="nv">$# </span>-eq 0; <span class="k">then</span>
<span class="k">  </span><span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;Try \`$0 --help&#39; for more information&quot;</span>
  <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="nv">run</span><span class="o">=</span>:


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>In the cases where this matters, `missing' is being run in the
srcdir already.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="k">if </span><span class="nb">test</span> -f configure.ac; <span class="k">then</span>
<span class="k">  </span><span class="nv">configure_ac</span><span class="o">=</span>configure.ac
<span class="k">else</span>
<span class="k">  </span><span class="nv">configure_ac</span><span class="o">=</span>configure.in
<span class="k">fi</span>

<span class="nv">msg</span><span class="o">=</span><span class="s2">&quot;missing on your system&quot;</span>

<span class="k">case</span> <span class="s2">&quot;$1&quot;</span> in
--run<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p>Try to run requested program, and just exit if it succeeds.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nv">run</span><span class="o">=</span>
  <span class="nb">shift</span>
  <span class="s2">&quot;$@&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>Exit code 63 means version mismatch.  This often happens
when the user try to use an ancient version of a tool on
a file that requires a minimum version.  In this case we
we should proceed has if the program had been absent, or
if --run hadn't been passed.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if </span><span class="nb">test</span> <span class="nv">$?</span> <span class="o">=</span> 63; <span class="k">then</span>
<span class="k">    </span><span class="nv">run</span><span class="o">=</span>:
    <span class="nv">msg</span><span class="o">=</span><span class="s2">&quot;probably too old&quot;</span>
  <span class="k">fi</span>
  ;;

  -h|--h|--he|--hel|--help<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;\</span>
<span class="s2">$0 [OPTION]... PROGRAM [ARGUMENT]...</span>

<span class="s2">Handle \`PROGRAM [ARGUMENT]...&#39; for when PROGRAM is missing, or return an</span>
<span class="s2">error status if there is no known handling for PROGRAM.</span>

<span class="s2">Options:</span>
<span class="s2">  -h, --help      display this help and exit</span>
<span class="s2">  -v, --version   output version information and exit</span>
<span class="s2">  --run           try to run the given command, and emulate it if it fails</span>

<span class="s2">Supported PROGRAM values:</span>
<span class="s2">  aclocal      touch file \`aclocal.m4&#39;</span>
<span class="s2">  autoconf     touch file \`configure&#39;</span>
<span class="s2">  autoheader   touch file \`config.h.in&#39;</span>
<span class="s2">  automake     touch all \`Makefile.in&#39; files</span>
<span class="s2">  bison        create \`y.tab.[ch]&#39;, if possible, from existing .[ch]</span>
<span class="s2">  flex         create \`lex.yy.c&#39;, if possible, from existing .c</span>
<span class="s2">  help2man     touch the output file</span>
<span class="s2">  lex          create \`lex.yy.c&#39;, if possible, from existing .c</span>
<span class="s2">  makeinfo     touch the output file</span>
<span class="s2">  tar          try tar, gnutar, gtar, then tar without non-portable flags</span>
<span class="s2">  yacc         create \`y.tab.[ch]&#39;, if possible, from existing .[ch]</span>

<span class="s2">Send bug reports to &lt;bug-automake@gnu.org&gt;.&quot;</span>
    <span class="nb">exit</span> <span class="nv">$?</span>
    ;;

  -v|--v|--ve|--ver|--vers|--versi|--versio|--version<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;missing $scriptversion (GNU Automake)&quot;</span>
    <span class="nb">exit</span> <span class="nv">$?</span>
    ;;

  -*<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;$0: Unknown \`$1&#39; option&quot;</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;Try \`$0 --help&#39; for more information&quot;</span>
    <span class="nb">exit </span>1
    ;;

<span class="k">esac</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p>Now exit if we have it, but it failed.  Also exit now if we
don't have it and --version was passed (most likely to detect
the program).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="k">case</span> <span class="s2">&quot;$1&quot;</span> in
  lex|yacc<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<p>Not GNU programs, they don't have --version.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    ;;

  tar<span class="o">)</span>
    <span class="k">if </span><span class="nb">test</span> -n <span class="s2">&quot;$run&quot;</span>; <span class="k">then</span>
<span class="k">       </span><span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;ERROR: \`tar&#39; requires --run&quot;</span>
       <span class="nb">exit </span>1
    <span class="k">elif </span><span class="nb">test</span> <span class="s2">&quot;x$2&quot;</span> <span class="o">=</span> <span class="s2">&quot;x--version&quot;</span> <span class="o">||</span> <span class="nb">test</span> <span class="s2">&quot;x$2&quot;</span> <span class="o">=</span> <span class="s2">&quot;x--help&quot;</span>; <span class="k">then</span>
<span class="k">       </span><span class="nb">exit </span>1
    <span class="k">fi</span>
    ;;

  *<span class="o">)</span>
    <span class="k">if </span><span class="nb">test</span> -z <span class="s2">&quot;$run&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="nv">$1</span> --version<span class="o">)</span> &gt; /dev/null 2&gt;&amp;1; <span class="k">then</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>We have it, but it failed.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
       <span class="nb">exit </span>1
    <span class="k">elif </span><span class="nb">test</span> <span class="s2">&quot;x$2&quot;</span> <span class="o">=</span> <span class="s2">&quot;x--version&quot;</span> <span class="o">||</span> <span class="nb">test</span> <span class="s2">&quot;x$2&quot;</span> <span class="o">=</span> <span class="s2">&quot;x--help&quot;</span>; <span class="k">then</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>Could not run --version or --help.  This is probably someone
running <code>$TOOL --version' or</code>$TOOL --help' to check whether
$TOOL exists and not knowing $TOOL uses missing.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
       <span class="nb">exit </span>1
    <span class="k">fi</span>
    ;;
<span class="k">esac</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<p>If it does not exist, or fails to run (possibly an outdated version),
try to emulate it.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="k">case</span> <span class="s2">&quot;$1&quot;</span> in
  aclocal*<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">         you modified \`acinclude.m4&#39; or \`${configure_ac}&#39;.  You might want</span>
<span class="s2">         to install the \`Automake&#39; and \`Perl&#39; packages.  Grab them from</span>
<span class="s2">         any GNU archive site.&quot;</span>
    touch aclocal.m4
    ;;

  autoconf<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">         you modified \`${configure_ac}&#39;.  You might want to install the</span>
<span class="s2">         \`Autoconf&#39; and \`GNU m4&#39; packages.  Grab them from any GNU</span>
<span class="s2">         archive site.&quot;</span>
    touch configure
    ;;

  autoheader<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">         you modified \`acconfig.h&#39; or \`${configure_ac}&#39;.  You might want</span>
<span class="s2">         to install the \`Autoconf&#39; and \`GNU m4&#39; packages.  Grab them</span>
<span class="s2">         from any GNU archive site.&quot;</span>
    <span class="nv">files</span><span class="o">=</span><span class="sb">`</span>sed -n <span class="s1">&#39;s/^[ ]*A[CM]_CONFIG_HEADER(\([^)]*\)).*/\1/p&#39;</span> <span class="k">${</span><span class="nv">configure_ac</span><span class="k">}</span><span class="sb">`</span>
    <span class="nb">test</span> -z <span class="s2">&quot;$files&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">files</span><span class="o">=</span><span class="s2">&quot;config.h&quot;</span>
    <span class="nv">touch_files</span><span class="o">=</span>
    <span class="k">for </span>f in <span class="nv">$files</span>; <span class="k">do</span>
<span class="k">      case</span> <span class="s2">&quot;$f&quot;</span> in
      *:*<span class="o">)</span> <span class="nv">touch_files</span><span class="o">=</span><span class="s2">&quot;$touch_files &quot;</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$f&quot;</span> |
               sed -e <span class="s1">&#39;s/^[^:]*://&#39;</span> -e <span class="s1">&#39;s/:.*//&#39;</span><span class="sb">`</span>;;
      *<span class="o">)</span> <span class="nv">touch_files</span><span class="o">=</span><span class="s2">&quot;$touch_files $f.in&quot;</span>;;
      <span class="k">esac</span>
<span class="k">    done</span>
<span class="k">    </span>touch <span class="nv">$touch_files</span>
    ;;

  automake*<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">         you modified \`Makefile.am&#39;, \`acinclude.m4&#39; or \`${configure_ac}&#39;.</span>
<span class="s2">         You might want to install the \`Automake&#39; and \`Perl&#39; packages.</span>
<span class="s2">         Grab them from any GNU archive site.&quot;</span>
    find . -type f -name Makefile.am -print |
     sed <span class="s1">&#39;s/\.am$/.in/&#39;</span> |
     <span class="k">while </span><span class="nb">read </span>f; <span class="k">do </span>touch <span class="s2">&quot;$f&quot;</span>; <span class="k">done</span>
    ;;

  autom4te<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is needed, but is $msg.</span>
<span class="s2">         You might have modified some files without having the</span>
<span class="s2">         proper tools for further handling them.</span>
<span class="s2">         You can get \`$1&#39; as part of \`Autoconf&#39; from any GNU</span>
<span class="s2">         archive site.&quot;</span>

    <span class="nv">file</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$*&quot;</span> | sed -n <span class="s1">&#39;s/.*--output[ =]*\([^ ]*\).*/\1/p&#39;</span><span class="sb">`</span>
    <span class="nb">test</span> -z <span class="s2">&quot;$file&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">file</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$*&quot;</span> | sed -n <span class="s1">&#39;s/.*-o[ ]*\([^ ]*\).*/\1/p&#39;</span><span class="sb">`</span>
    <span class="k">if </span><span class="nb">test</span> -f <span class="s2">&quot;$file&quot;</span>; <span class="k">then</span>
<span class="k">  </span>touch <span class="nv">$file</span>
    <span class="k">else</span>
<span class="k">  </span><span class="nb">test</span> -z <span class="s2">&quot;$file&quot;</span> <span class="o">||</span> <span class="nb">exec</span> &gt;<span class="nv">$file</span>
  <span class="nb">echo</span> <span class="s2">&quot;#! /bin/sh&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;# Created by GNU Automake missing as a replacement of&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;#  $ $@&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;exit 0&quot;</span>
  chmod +x <span class="nv">$file</span>
  <span class="nb">exit </span>1
    <span class="k">fi</span>
    ;;

  bison|yacc<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; $msg.  You should only need it if</span>
<span class="s2">         you modified a \`.y&#39; file.  You may need the \`Bison&#39; package</span>
<span class="s2">         in order for those modifications to take effect.  You can get</span>
<span class="s2">         \`Bison&#39; from any GNU archive site.&quot;</span>
    rm -f y.tab.c y.tab.h
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span>-ne 1 <span class="o">]</span>; <span class="k">then</span>
<span class="k">        </span><span class="nb">eval </span><span class="nv">LASTARG</span><span class="o">=</span><span class="s2">&quot;\${$#}&quot;</span>
  <span class="k">case</span> <span class="s2">&quot;$LASTARG&quot;</span> in
  *.y<span class="o">)</span>
      <span class="nv">SRCFILE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$LASTARG&quot;</span> | sed <span class="s1">&#39;s/y$/c/&#39;</span><span class="sb">`</span>
      <span class="k">if</span> <span class="o">[</span> -f <span class="s2">&quot;$SRCFILE&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">           </span>cp <span class="s2">&quot;$SRCFILE&quot;</span> y.tab.c
      <span class="k">fi</span>
<span class="k">      </span><span class="nv">SRCFILE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$LASTARG&quot;</span> | sed <span class="s1">&#39;s/y$/h/&#39;</span><span class="sb">`</span>
      <span class="k">if</span> <span class="o">[</span> -f <span class="s2">&quot;$SRCFILE&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">           </span>cp <span class="s2">&quot;$SRCFILE&quot;</span> y.tab.h
      <span class="k">fi</span>
    ;;
  <span class="k">esac</span>
<span class="k">    fi</span>
<span class="k">    if</span> <span class="o">[</span> ! -f y.tab.h <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span><span class="nb">echo</span> &gt;y.tab.h
    <span class="k">fi</span>
<span class="k">    if</span> <span class="o">[</span> ! -f y.tab.c <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span><span class="nb">echo</span> <span class="s1">&#39;main() { return 0; }&#39;</span> &gt;y.tab.c
    <span class="k">fi</span>
    ;;

  lex|flex<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">         you modified a \`.l&#39; file.  You may need the \`Flex&#39; package</span>
<span class="s2">         in order for those modifications to take effect.  You can get</span>
<span class="s2">         \`Flex&#39; from any GNU archive site.&quot;</span>
    rm -f lex.yy.c
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span>-ne 1 <span class="o">]</span>; <span class="k">then</span>
<span class="k">        </span><span class="nb">eval </span><span class="nv">LASTARG</span><span class="o">=</span><span class="s2">&quot;\${$#}&quot;</span>
  <span class="k">case</span> <span class="s2">&quot;$LASTARG&quot;</span> in
  *.l<span class="o">)</span>
      <span class="nv">SRCFILE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$LASTARG&quot;</span> | sed <span class="s1">&#39;s/l$/c/&#39;</span><span class="sb">`</span>
      <span class="k">if</span> <span class="o">[</span> -f <span class="s2">&quot;$SRCFILE&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">           </span>cp <span class="s2">&quot;$SRCFILE&quot;</span> lex.yy.c
      <span class="k">fi</span>
    ;;
  <span class="k">esac</span>
<span class="k">    fi</span>
<span class="k">    if</span> <span class="o">[</span> ! -f lex.yy.c <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span><span class="nb">echo</span> <span class="s1">&#39;main() { return 0; }&#39;</span> &gt;lex.yy.c
    <span class="k">fi</span>
    ;;

  help2man<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">   you modified a dependency of a manual page.  You may need the</span>
<span class="s2">   \`Help2man&#39; package in order for those modifications to take</span>
<span class="s2">   effect.  You can get \`Help2man&#39; from any GNU archive site.&quot;</span>

    <span class="nv">file</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$*&quot;</span> | sed -n <span class="s1">&#39;s/.*-o \([^ ]*\).*/\1/p&#39;</span><span class="sb">`</span>
    <span class="k">if </span><span class="nb">test</span> -z <span class="s2">&quot;$file&quot;</span>; <span class="k">then</span>
<span class="k">  </span><span class="nv">file</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$*&quot;</span> | sed -n <span class="s1">&#39;s/.*--output=\([^ ]*\).*/\1/p&#39;</span><span class="sb">`</span>
    <span class="k">fi</span>
<span class="k">    if</span> <span class="o">[</span> -f <span class="s2">&quot;$file&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span>touch <span class="nv">$file</span>
    <span class="k">else</span>
<span class="k">  </span><span class="nb">test</span> -z <span class="s2">&quot;$file&quot;</span> <span class="o">||</span> <span class="nb">exec</span> &gt;<span class="nv">$file</span>
  <span class="nb">echo</span> <span class="s2">&quot;.ab help2man is required to generate this page&quot;</span>
  <span class="nb">exit </span>1
    <span class="k">fi</span>
    ;;

  makeinfo<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is $msg.  You should only need it if</span>
<span class="s2">         you modified a \`.texi&#39; or \`.texinfo&#39; file, or any other file</span>
<span class="s2">         indirectly affecting the aspect of the manual.  The spurious</span>
<span class="s2">         call might also be the consequence of using a buggy \`make&#39; (AIX,</span>
<span class="s2">         DU, IRIX).  You might want to install the \`Texinfo&#39; package or</span>
<span class="s2">         the \`GNU make&#39; package.  Grab either from any GNU archive site.&quot;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>The file to touch is that specified with -o ...</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nv">file</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$*&quot;</span> | sed -n <span class="s1">&#39;s/.*-o \([^ ]*\).*/\1/p&#39;</span><span class="sb">`</span>
    <span class="k">if </span><span class="nb">test</span> -z <span class="s2">&quot;$file&quot;</span>; <span class="k">then</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>... or it is the one specified with @setfilename ...</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nv">infile</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$*&quot;</span> | sed <span class="s1">&#39;s/.* \([^ ]*\) *$/\1/&#39;</span><span class="sb">`</span>
      <span class="nv">file</span><span class="o">=</span><span class="sb">`</span>sed -n <span class="s1">&#39;/^@setfilename/ { s/.* \([^ ]*\) *$/\1/; p; q; }&#39;</span> <span class="nv">$infile</span><span class="sb">`</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>... or it is derived from the source name (dir/f.texi becomes f.info)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nb">test</span> -z <span class="s2">&quot;$file&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">file</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$infile&quot;</span> | sed <span class="s1">&#39;s,.*/,,;s,.[^.]*$,,&#39;</span><span class="sb">`</span>.info
    <span class="k">fi</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p>If the file does not exist, the user really needs makeinfo;
let's fail without touching anything.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">test</span> -f <span class="nv">$file</span> <span class="o">||</span> <span class="nb">exit </span>1
    touch <span class="nv">$file</span>
    ;;

  tar<span class="o">)</span>
    <span class="nb">shift</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>We have already tried tar in the generic part.
Look for gnutar/gtar before invocation to avoid ugly error
messages.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span> <span class="o">(</span>gnutar --version &gt; /dev/null 2&gt;&amp;1<span class="o">)</span>; <span class="k">then</span>
<span class="k">       </span>gnutar <span class="s2">&quot;$@&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0
    <span class="k">fi</span>
<span class="k">    if</span> <span class="o">(</span>gtar --version &gt; /dev/null 2&gt;&amp;1<span class="o">)</span>; <span class="k">then</span>
<span class="k">       </span>gtar <span class="s2">&quot;$@&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0
    <span class="k">fi</span>
<span class="k">    </span><span class="nv">firstarg</span><span class="o">=</span><span class="s2">&quot;$1&quot;</span>
    <span class="k">if </span><span class="nb">shift</span>; <span class="k">then</span>
<span class="k">  case</span> <span class="s2">&quot;$firstarg&quot;</span> in
  *o*<span class="o">)</span>
      <span class="nv">firstarg</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$firstarg&quot;</span> | sed s/o//<span class="sb">`</span>
      tar <span class="s2">&quot;$firstarg&quot;</span> <span class="s2">&quot;$@&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0
      ;;
  <span class="k">esac</span>
<span class="k">  case</span> <span class="s2">&quot;$firstarg&quot;</span> in
  *h*<span class="o">)</span>
      <span class="nv">firstarg</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$firstarg&quot;</span> | sed s/h//<span class="sb">`</span>
      tar <span class="s2">&quot;$firstarg&quot;</span> <span class="s2">&quot;$@&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0
      ;;
  <span class="k">esac</span>
<span class="k">    fi</span>

<span class="k">    </span><span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: I can&#39;t seem to be able to run \`tar&#39; with the given arguments.</span>
<span class="s2">         You may want to install GNU tar or Free paxutils, or check the</span>
<span class="s2">         command line arguments.&quot;</span>
    <span class="nb">exit </span>1
    ;;

  *<span class="o">)</span>
    <span class="nb">echo </span>1&gt;&amp;2 <span class="s2">&quot;\</span>
<span class="s2">WARNING: \`$1&#39; is needed, and is $msg.</span>
<span class="s2">         You might have modified some files without having the</span>
<span class="s2">         proper tools for further handling them.  Check the \`README&#39; file,</span>
<span class="s2">         it often tells you about the needed prerequisites for installing</span>
<span class="s2">         this package.  You may also peek at any GNU archive site, in case</span>
<span class="s2">         some other package would contain this missing \`$1&#39; program.&quot;</span>
    <span class="nb">exit </span>1
    ;;
<span class="k">esac</span>

<span class="nb">exit </span>0


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>Local variables:
eval: (add-hook 'write-file-hooks 'time-stamp)
time-stamp-start: "scriptversion="
time-stamp-format: "%:y-%02m-%02d.%02H"
time-stamp-end: "$"
End:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
