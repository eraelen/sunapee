<!DOCTYPE html>
<html>
<head>
  <title>config.guess</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../", thisFile = "node_modules/sqlite3/deps/sqlite3/config.guess", defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>config.guess</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="c">#! /bin/sh</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>Attempt to guess a canonical system name.
  Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
  2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nv">timestamp</span><span class="o">=</span><span class="s1">&#39;2005-07-08&#39;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>This file is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA
02110-1301, USA.</p>

<p>As a special exception to the GNU General Public License, if you
distribute this file as part of a program that contains a
configuration script generated by Autoconf, you may include it under
the same distribution terms that you use for the rest of that program.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>Originally written by Per Bothner <a href="&#109;&#97;&#x69;&#108;&#116;&#111;:&#x70;er&#x40;&#x62;&#111;&#116;&#x68;&#x6E;&#x65;r&#46;&#99;&#x6F;&#109;">&#x70;er&#x40;&#x62;&#111;&#116;&#x68;&#x6E;&#x65;r&#46;&#99;&#x6F;&#109;</a>.
Please send patches to <a href="&#109;&#x61;&#105;&#x6C;&#x74;&#111;:c&#x6F;&#110;&#x66;&#105;&#x67;&#x2D;&#112;&#x61;&#116;c&#104;&#x65;s&#x40;&#103;&#110;u&#46;&#x6F;&#x72;&#x67;">c&#x6F;&#110;&#x66;&#105;&#x67;&#x2D;&#112;&#x61;&#116;c&#104;&#x65;s&#x40;&#103;&#110;u&#46;&#x6F;&#x72;&#x67;</a>.  Submit a context
diff and a properly formatted ChangeLog entry.</p>

<p>This script attempts to guess a canonical system name similar to
config.sub.  If it succeeds, it prints the system name on stdout, and
exits with 0.  Otherwise, it exits with 1.</p>

<p>The plan is that this can be called by configure scripts if you
don't specify an explicit build system type.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nv">me</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;$0&quot;</span> | sed -e <span class="s1">&#39;s,.*/,,&#39;</span><span class="sb">`</span>

<span class="nv">usage</span><span class="o">=</span><span class="s2">&quot;\</span>
<span class="s2">Usage: $0 [OPTION]</span>

<span class="s2">Output the configuration name of the system \`$me&#39; is run on.</span>

<span class="s2">Operation modes:</span>
<span class="s2">  -h, --help         print this help, then exit</span>
<span class="s2">  -t, --time-stamp   print date of last modification, then exit</span>
<span class="s2">  -v, --version      print version number, then exit</span>

<span class="s2">Report bugs and patches to &lt;config-patches@gnu.org&gt;.&quot;</span>

<span class="nv">version</span><span class="o">=</span><span class="s2">&quot;\</span>
<span class="s2">GNU config.guess ($timestamp)</span>

<span class="s2">Originally written by Per Bothner.</span>
<span class="s2">Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005</span>
<span class="s2">Free Software Foundation, Inc.</span>

<span class="s2">This is free software; see the source for copying conditions.  There is NO</span>
<span class="s2">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&quot;</span>

<span class="nb">help</span><span class="o">=</span><span class="s2">&quot;</span>
<span class="s2">Try \`$me --help&#39; for more information.&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>Parse command line</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="k">while </span><span class="nb">test</span> <span class="nv">$# </span>-gt 0 ; <span class="k">do</span>
<span class="k">  case</span> <span class="nv">$1</span> in
    --time-stamp | --time* | -t <span class="o">)</span>
       <span class="nb">echo</span> <span class="s2">&quot;$timestamp&quot;</span> ; <span class="nb">exit</span> ;;
    --version | -v <span class="o">)</span>
       <span class="nb">echo</span> <span class="s2">&quot;$version&quot;</span> ; <span class="nb">exit</span> ;;
    --help | --h* | -h <span class="o">)</span>
       <span class="nb">echo</span> <span class="s2">&quot;$usage&quot;</span>; <span class="nb">exit</span> ;;
    -- <span class="o">)</span>     <span class="c"># Stop option processing</span>
       <span class="nb">shift</span>; <span class="nb">break</span> ;;
    - <span class="o">)</span> <span class="c"># Use stdin as input.</span>
       <span class="nb">break</span> ;;
    -* <span class="o">)</span>
       <span class="nb">echo</span> <span class="s2">&quot;$me: invalid option $1$help&quot;</span> &gt;&amp;2
       <span class="nb">exit </span>1 ;;
    * <span class="o">)</span>
       <span class="nb">break</span> ;;
  <span class="k">esac</span>
<span class="k">done</span>

<span class="k">if </span><span class="nb">test</span> <span class="nv">$# </span>!<span class="o">=</span> 0; <span class="k">then</span>
<span class="k">  </span><span class="nb">echo</span> <span class="s2">&quot;$me: too many arguments$help&quot;</span> &gt;&amp;2
  <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="nb">trap</span> <span class="s1">&#39;exit 1&#39;</span> 1 2 15


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p>CC_FOR_BUILD -- compiler used by this script. Note that the use of a
compiler to aid in system detection is discouraged as it requires
temporary files to be created and, as you can see below, it is a
headache to deal with in a portable fashion.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>Historically, <code>CC_FOR_BUILD' used to be named</code>HOST_CC'. We still
use `HOST_CC' if defined, but it is deprecated.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>Portable tmp directory creation inspired by the Autoconf team.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nv">set_cc_for_build</span><span class="o">=</span><span class="s1">&#39;</span>
<span class="s1">trap &quot;exitcode=\$?; (rm -f \$tmpfiles 2&gt;/dev/null; rmdir \$tmp 2&gt;/dev/null) &amp;&amp; exit \$exitcode&quot; 0 ;</span>
<span class="s1">trap &quot;rm -f \$tmpfiles 2&gt;/dev/null; rmdir \$tmp 2&gt;/dev/null; exit 1&quot; 1 2 13 15 ;</span>
<span class="s1">: ${TMPDIR=/tmp} ;</span>
<span class="s1"> { tmp=`(umask 077 &amp;&amp; mktemp -d -q &quot;$TMPDIR/cgXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp; test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot; ; } ||</span>
<span class="s1"> { test -n &quot;$RANDOM&quot; &amp;&amp; tmp=$TMPDIR/cg$$-$RANDOM &amp;&amp; (umask 077 &amp;&amp; mkdir $tmp) ; } ||</span>
<span class="s1"> { tmp=$TMPDIR/cg-$$ &amp;&amp; (umask 077 &amp;&amp; mkdir $tmp) &amp;&amp; echo &quot;Warning: creating insecure temp directory&quot; &gt;&amp;2 ; } ||</span>
<span class="s1"> { echo &quot;$me: cannot create a temporary directory in $TMPDIR&quot; &gt;&amp;2 ; exit 1 ; } ;</span>
<span class="s1">dummy=$tmp/dummy ;</span>
<span class="s1">tmpfiles=&quot;$dummy.c $dummy.o $dummy.rel $dummy&quot; ;</span>
<span class="s1">case $CC_FOR_BUILD,$HOST_CC,$CC in</span>
<span class="s1"> ,,)    echo &quot;int x;&quot; &gt; $dummy.c ;</span>
<span class="s1">  for c in cc gcc c89 c99 ; do</span>
<span class="s1">    if ($c -c -o $dummy.o $dummy.c) &gt;/dev/null 2&gt;&amp;1 ; then</span>
<span class="s1">       CC_FOR_BUILD=&quot;$c&quot;; break ;</span>
<span class="s1">    fi ;</span>
<span class="s1">  done ;</span>
<span class="s1">  if test x&quot;$CC_FOR_BUILD&quot; = x ; then</span>
<span class="s1">    CC_FOR_BUILD=no_compiler_found ;</span>
<span class="s1">  fi</span>
<span class="s1">  ;;</span>
<span class="s1"> ,,*)   CC_FOR_BUILD=$CC ;;</span>
<span class="s1"> ,*,*)  CC_FOR_BUILD=$HOST_CC ;;</span>
<span class="s1">esac ; set_cc_for_build= ;&#39;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p>This is needed to find uname on a Pyramid OSx when run in the BSD universe.
(<a href='mailto:ghazi@noc.rutgers.edu'>ghazi@noc.rutgers.edu</a> 1994-08-24)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="k">if</span> <span class="o">(</span><span class="nb">test</span> -f /.attbin/uname<span class="o">)</span> &gt;/dev/null 2&gt;&amp;1 ; <span class="k">then</span>
<span class="k">  </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/.attbin ; <span class="nb">export </span>PATH
<span class="k">fi</span>

<span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>uname -m<span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span> <span class="o">||</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>unknown
<span class="nv">UNAME_RELEASE</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>uname -r<span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span> <span class="o">||</span> <span class="nv">UNAME_RELEASE</span><span class="o">=</span>unknown
<span class="nv">UNAME_SYSTEM</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>uname -s<span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span>  <span class="o">||</span> <span class="nv">UNAME_SYSTEM</span><span class="o">=</span>unknown
<span class="nv">UNAME_VERSION</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>uname -v<span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span> <span class="o">||</span> <span class="nv">UNAME_VERSION</span><span class="o">=</span>unknown


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>Note: order is significant - the case branches are not exclusive.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="k">case</span> <span class="s2">&quot;${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}&quot;</span> in
    *:NetBSD:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p>NetBSD (nbsd) targets should (where applicable) match one or
more of the tupples: <em>-</em>-netbsdelf<em>, *-</em>-netbsdaout<em>,
*-</em>-netbsdecoff* and <em>-</em>-netbsd<em>.  For targets that recently
switched to ELF, *-</em>-netbsd* would select the old
object file format.  This provides both forward
compatibility and a consistent mechanism for selecting the
object file format.</p>

<p>Note: NetBSD doesn't particularly care about the vendor
portion of the name.  We always set it to "unknown".</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nv">sysctl</span><span class="o">=</span><span class="s2">&quot;sysctl -n hw.machine_arch&quot;</span>
  <span class="nv">UNAME_MACHINE_ARCH</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>/sbin/<span class="nv">$sysctl</span> 2&gt;/dev/null <span class="o">||</span> <span class="se">\</span>
      /usr/sbin/<span class="nv">$sysctl</span> 2&gt;/dev/null <span class="o">||</span> <span class="nb">echo </span>unknown<span class="o">)</span><span class="sb">`</span>
  <span class="k">case</span> <span class="s2">&quot;${UNAME_MACHINE_ARCH}&quot;</span> in
      armeb<span class="o">)</span> <span class="nv">machine</span><span class="o">=</span>armeb-unknown ;;
      arm*<span class="o">)</span> <span class="nv">machine</span><span class="o">=</span>arm-unknown ;;
      sh3el<span class="o">)</span> <span class="nv">machine</span><span class="o">=</span>shl-unknown ;;
      sh3eb<span class="o">)</span> <span class="nv">machine</span><span class="o">=</span>sh-unknown ;;
      *<span class="o">)</span> <span class="nv">machine</span><span class="o">=</span><span class="k">${</span><span class="nv">UNAME_MACHINE_ARCH</span><span class="k">}</span>-unknown ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<p>The Operating System including object format, if it has switched
to ELF recently, or will in the future.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">case</span> <span class="s2">&quot;${UNAME_MACHINE_ARCH}&quot;</span> in
      arm*|i386|m68k|ns32k|sh3*|sparc|vax<span class="o">)</span>
    <span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
    <span class="k">if </span><span class="nb">echo </span>__ELF__ | <span class="nv">$CC_FOR_BUILD</span> -E - 2&gt;/dev/null <span class="se">\</span>
      | grep __ELF__ &gt;/dev/null
    <span class="k">then</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
Return netbsd for either.  FIX?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nv">os</span><span class="o">=</span>netbsd
    <span class="k">else</span>
<span class="k">        </span><span class="nv">os</span><span class="o">=</span>netbsdelf
    <span class="k">fi</span>
    ;;
      *<span class="o">)</span>
          <span class="nv">os</span><span class="o">=</span>netbsd
    ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>The OS release
Debian GNU/NetBSD machines have a different userland, and
thus, need a distinct triplet. However, they do not need
kernel version information, so it can be replaced with a
suitable tag, in the style of linux-gnu.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">case</span> <span class="s2">&quot;${UNAME_VERSION}&quot;</span> in
      Debian*<span class="o">)</span>
    <span class="nv">release</span><span class="o">=</span><span class="s1">&#39;-gnu&#39;</span>
    ;;
      *<span class="o">)</span>
    <span class="nv">release</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[-_].*/\./&#39;</span><span class="sb">`</span>
    ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<p>Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
contains redundant information, the shorter form:
CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="s2">&quot;${machine}-${os}${release}&quot;</span>
  <span class="nb">exit</span> ;;
    *:OpenBSD:*:*<span class="o">)</span>
  <span class="nv">UNAME_MACHINE_ARCH</span><span class="o">=</span><span class="sb">`</span>arch | sed <span class="s1">&#39;s/OpenBSD.//&#39;</span><span class="sb">`</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE_ARCH</span><span class="k">}</span>-unknown-openbsd<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:ekkoBSD:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-ekkobsd<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    macppc:MirBSD:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerppc-unknown-mirbsd<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:MirBSD:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-mirbsd<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    alpha:OSF1:*:*<span class="o">)</span>
  <span class="k">case</span> <span class="nv">$UNAME_RELEASE</span> in
  *4.0<span class="o">)</span>
    <span class="nv">UNAME_RELEASE</span><span class="o">=</span><span class="sb">`</span>/usr/sbin/sizer -v | awk <span class="s1">&#39;{print $3}&#39;</span><span class="sb">`</span>
    ;;
  *5.*<span class="o">)</span>
          <span class="nv">UNAME_RELEASE</span><span class="o">=</span><span class="sb">`</span>/usr/sbin/sizer -v | awk <span class="s1">&#39;{print $4}&#39;</span><span class="sb">`</span>
    ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>According to Compaq, /usr/sbin/psrinfo has been available on
OSF/1 and Tru64 systems produced since 1995.  I hope that
covers most systems running today.  This code pipes the CPU
types through head -n 1, so we only detect the type of CPU 0.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nv">ALPHA_CPU_TYPE</span><span class="o">=</span><span class="sb">`</span>/usr/sbin/psrinfo -v | sed -n -e <span class="s1">&#39;s/^  The alpha \(.*\) processor.*$/\1/p&#39;</span> | head -n 1<span class="sb">`</span>
  <span class="k">case</span> <span class="s2">&quot;$ALPHA_CPU_TYPE&quot;</span> in
      <span class="s2">&quot;EV4 (21064)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span> ;;
      <span class="s2">&quot;EV4.5 (21064)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span> ;;
      <span class="s2">&quot;LCA4 (21066/21068)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span> ;;
      <span class="s2">&quot;EV5 (21164)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev5&quot;</span> ;;
      <span class="s2">&quot;EV5.6 (21164A)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev56&quot;</span> ;;
      <span class="s2">&quot;EV5.6 (21164PC)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphapca56&quot;</span> ;;
      <span class="s2">&quot;EV5.7 (21164PC)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphapca57&quot;</span> ;;
      <span class="s2">&quot;EV6 (21264)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev6&quot;</span> ;;
      <span class="s2">&quot;EV6.7 (21264A)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev67&quot;</span> ;;
      <span class="s2">&quot;EV6.8CB (21264C)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev68&quot;</span> ;;
      <span class="s2">&quot;EV6.8AL (21264B)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev68&quot;</span> ;;
      <span class="s2">&quot;EV6.8CX (21264D)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev68&quot;</span> ;;
      <span class="s2">&quot;EV6.9A (21264/EV69A)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev69&quot;</span> ;;
      <span class="s2">&quot;EV7 (21364)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev7&quot;</span> ;;
      <span class="s2">&quot;EV7.9 (21364A)&quot;</span><span class="o">)</span>
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;alphaev79&quot;</span> ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>A Pn.n version is a patched version.
A Vn.n version is a released version.
A Tn.n version is a released field test version.
A Xn.n version is an unreleased experimental baselevel.
1.2 uses "1.2" for uname -r.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-dec-osf<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/^[PVTX]//&#39;</span> | tr <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    Alpha<span class="se">\ </span>*:Windows_NT*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>How do we know it's Interix rather than the generic POSIX subsystem?
Should we change UNAME_MACHINE based on the output of uname instead
of the specific Alpha model?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>alpha-pc-interix
  <span class="nb">exit</span> ;;
    21064:Windows_NT:50:3<span class="o">)</span>
  <span class="nb">echo </span>alpha-dec-winnt3.5
  <span class="nb">exit</span> ;;
    Amiga*:UNIX_System_V:4.0:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-unknown-sysv4
  <span class="nb">exit</span> ;;
    *:<span class="o">[</span>Aa<span class="o">]</span>miga<span class="o">[</span>Oo<span class="o">][</span>Ss<span class="o">]</span>:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-amigaos
  <span class="nb">exit</span> ;;
    *:<span class="o">[</span>Mm<span class="o">]</span>orph<span class="o">[</span>Oo<span class="o">][</span>Ss<span class="o">]</span>:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-morphos
  <span class="nb">exit</span> ;;
    *:OS/390:*:*<span class="o">)</span>
  <span class="nb">echo </span>i370-ibm-openedition
  <span class="nb">exit</span> ;;
    *:z/VM:*:*<span class="o">)</span>
  <span class="nb">echo </span>s390-ibm-zvmoe
  <span class="nb">exit</span> ;;
    *:OS400:*:*<span class="o">)</span>
        <span class="nb">echo </span>powerpc-ibm-os400
  <span class="nb">exit</span> ;;
    arm:RISC*:1.<span class="o">[</span>012<span class="o">]</span>*:*|arm:riscix:1.<span class="o">[</span>012<span class="o">]</span>*:*<span class="o">)</span>
  <span class="nb">echo </span>arm-acorn-riscix<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    arm:riscos:*:*|arm:RISCOS:*:*<span class="o">)</span>
  <span class="nb">echo </span>arm-unknown-riscos
  <span class="nb">exit</span> ;;
    SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*<span class="o">)</span>
  <span class="nb">echo </span>hppa1.1-hitachi-hiuxmpp
  <span class="nb">exit</span> ;;
    Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p><a href='mailto:akee@wpdis03.wpafb.af.mil'>akee@wpdis03.wpafb.af.mil</a> (Earle F. Ake) contributed MIS and NILE.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if </span><span class="nb">test</span> <span class="s2">&quot;`(/bin/universe) 2&gt;/dev/null`&quot;</span> <span class="o">=</span> att ; <span class="k">then</span>
<span class="k">    </span><span class="nb">echo </span>pyramid-pyramid-sysv3
  <span class="k">else</span>
<span class="k">    </span><span class="nb">echo </span>pyramid-pyramid-bsd
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    NILE*:*:*:dcosx<span class="o">)</span>
  <span class="nb">echo </span>pyramid-pyramid-svr4
  <span class="nb">exit</span> ;;
    DRS?6000:unix:4.0:6*<span class="o">)</span>
  <span class="nb">echo </span>sparc-icl-nx6
  <span class="nb">exit</span> ;;
    DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*<span class="o">)</span>
  <span class="k">case</span> <span class="sb">`</span>/usr/bin/uname -p<span class="sb">`</span> in
      sparc<span class="o">)</span> <span class="nb">echo </span>sparc-icl-nx7; <span class="nb">exit</span> ;;
  <span class="k">esac</span> ;;
    sun4H:SunOS:5.*:*<span class="o">)</span>
  <span class="nb">echo </span>sparc-hal-solaris2<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*<span class="o">)</span>
  <span class="nb">echo </span>sparc-sun-solaris2<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    i86pc:SunOS:5.*:*<span class="o">)</span>
  <span class="nb">echo </span>i386-pc-solaris2<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    sun4*:SunOS:6*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>According to config.sub, this is the proper way to canonicalize
SunOS6.  Hard to guess exactly what SunOS6 will be like, but
it's likely to be more like Solaris than SunOS4.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>sparc-sun-solaris3<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    sun4*:SunOS:*:*<span class="o">)</span>
  <span class="k">case</span> <span class="s2">&quot;`/usr/bin/arch -k`&quot;</span> in
      Series*|S4*<span class="o">)</span>
    <span class="nv">UNAME_RELEASE</span><span class="o">=</span><span class="sb">`</span>uname -v<span class="sb">`</span>
    ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>Japanese Language versions have a version number like `4.1.3-JL'.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>sparc-sun-sunos<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/-/_/&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    sun3*:SunOS:*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-sun-sunos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    sun*:*:4.2BSD:*<span class="o">)</span>
  <span class="nv">UNAME_RELEASE</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>sed 1q /etc/motd | awk <span class="s1">&#39;{print substr($5,1,3)}&#39;</span><span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span>
  <span class="nb">test</span> <span class="s2">&quot;x${UNAME_RELEASE}&quot;</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">UNAME_RELEASE</span><span class="o">=</span>3
  <span class="k">case</span> <span class="s2">&quot;`/bin/arch`&quot;</span> in
      sun3<span class="o">)</span>
    <span class="nb">echo </span>m68k-sun-sunos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
    ;;
      sun4<span class="o">)</span>
    <span class="nb">echo </span>sparc-sun-sunos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
    ;;
  <span class="k">esac</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    aushp:SunOS:*:*<span class="o">)</span>
  <span class="nb">echo </span>sparc-auspex-sunos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<p>The situation for MiNT is a little confusing.  The machine name
can be virtually everything (everything which is not
"atarist" or "atariste" at least should have a processor</p>

<blockquote>
  <p>m68000).  The system name ranges from "MiNT" over "FreeMiNT"
  to the lowercase version "mint" (or "freemint").  Finally
  the system name "TOS" denotes a system which is actually not
  MiNT.  But MiNT is downward compatible to TOS, so this should
  be no problem.</p>
</blockquote>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    atarist<span class="o">[</span>e<span class="o">]</span>:*MiNT:*:* | atarist<span class="o">[</span>e<span class="o">]</span>:*mint:*:* | atarist<span class="o">[</span>e<span class="o">]</span>:*TOS:*:*<span class="o">)</span>
        <span class="nb">echo </span>m68k-atari-mint<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    atari*:*MiNT:*:* | atari*:*mint:*:* | atarist<span class="o">[</span>e<span class="o">]</span>:*TOS:*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-atari-mint<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
        <span class="nb">exit</span> ;;
    *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*<span class="o">)</span>
        <span class="nb">echo </span>m68k-atari-mint<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*<span class="o">)</span>
        <span class="nb">echo </span>m68k-milan-mint<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
        <span class="nb">exit</span> ;;
    hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*<span class="o">)</span>
        <span class="nb">echo </span>m68k-hades-mint<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
        <span class="nb">exit</span> ;;
    *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*<span class="o">)</span>
        <span class="nb">echo </span>m68k-unknown-mint<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
        <span class="nb">exit</span> ;;
    m68k:machten:*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-apple-machten<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    powerpc:machten:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-apple-machten<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    RISC*:Mach:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-dec-mach_bsd4.3
  <span class="nb">exit</span> ;;
    RISC*:ULTRIX:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-dec-ultrix<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    VAX*:ULTRIX*:*:*<span class="o">)</span>
  <span class="nb">echo </span>vax-dec-ultrix<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    2020:CLIX:*:* | 2430:CLIX:*:*<span class="o">)</span>
  <span class="nb">echo </span>clipper-intergraph-clix<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    mips:*:*:UMIPS | mips:*:*:RISCos<span class="o">)</span>
  <span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
  sed <span class="s1">&#39;s/^  //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23">&#182;</a>
</div>
<p>ifdef __cplusplus
include <stdio.h>  /* for printf() prototype */</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  int main (int argc, char *argv[]) {</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  int main (argc, argv) int argc; char *argv[]; {</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<p>endif
if defined (host_mips) &amp;&amp; defined (MIPSEB)
if defined (SYSTYPE_SYSV)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    printf (&quot;mips-mips-riscos%ssysv\n&quot;, argv[1]); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26">&#182;</a>
</div>
<p>endif
if defined (SYSTYPE_SVR4)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    printf (&quot;mips-mips-riscos%ssvr4\n&quot;, argv[1]); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27">&#182;</a>
</div>
<p>endif
if defined (SYSTYPE_BSD43) || defined(SYSTYPE_BSD)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    printf (&quot;mips-mips-riscos%sbsd\n&quot;, argv[1]); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28">&#182;</a>
</div>
<p>endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    exit (-1);</span>
<span class="s">  }</span>
<span class="s">EOF</span>
  <span class="nv">$CC_FOR_BUILD</span> -o <span class="nv">$dummy</span> <span class="nv">$dummy</span>.c <span class="o">&amp;&amp;</span>
    <span class="nv">dummyarg</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;${UNAME_RELEASE}&quot;</span> | sed -n <span class="s1">&#39;s/\([0-9]*\).*/\1/p&#39;</span><span class="sb">`</span> <span class="o">&amp;&amp;</span>
    <span class="nv">SYSTEM_NAME</span><span class="o">=</span><span class="sb">`</span><span class="nv">$dummy</span> <span class="nv">$dummyarg</span><span class="sb">`</span> <span class="o">&amp;&amp;</span>
      <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;$SYSTEM_NAME&quot;</span>; <span class="nb">exit</span>; <span class="o">}</span>
  <span class="nb">echo </span>mips-mips-riscos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    Motorola:PowerMAX_OS:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-motorola-powermax
  <span class="nb">exit</span> ;;
    Motorola:*:4.3:PL8-*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-harris-powermax
  <span class="nb">exit</span> ;;
    Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-harris-powermax
  <span class="nb">exit</span> ;;
    Night_Hawk:Power_UNIX:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-harris-powerunix
  <span class="nb">exit</span> ;;
    m88k:CX/UX:7*:*<span class="o">)</span>
  <span class="nb">echo </span>m88k-harris-cxux7
  <span class="nb">exit</span> ;;
    m88k:*:4*:R4*<span class="o">)</span>
  <span class="nb">echo </span>m88k-motorola-sysv4
  <span class="nb">exit</span> ;;
    m88k:*:3*:R3*<span class="o">)</span>
  <span class="nb">echo </span>m88k-motorola-sysv3
  <span class="nb">exit</span> ;;
    AViiON:dgux:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29">&#182;</a>
</div>
<p>DG/UX returns AViiON for all architectures</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nv">UNAME_PROCESSOR</span><span class="o">=</span><span class="sb">`</span>/usr/bin/uname -p<span class="sb">`</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nv">$UNAME_PROCESSOR</span> <span class="o">=</span> mc88100 <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nv">$UNAME_PROCESSOR</span> <span class="o">=</span> mc88110 <span class="o">]</span>
  <span class="k">then</span>
<span class="k">      if</span> <span class="o">[</span> <span class="k">${</span><span class="nv">TARGET_BINARY_INTERFACE</span><span class="k">}</span><span class="nv">x</span> <span class="o">=</span> m88kdguxelfx <span class="o">]</span> <span class="o">||</span> <span class="se">\</span>
         <span class="o">[</span> <span class="k">${</span><span class="nv">TARGET_BINARY_INTERFACE</span><span class="k">}</span><span class="nv">x</span> <span class="o">=</span> x <span class="o">]</span>
      <span class="k">then</span>
<span class="k">    </span><span class="nb">echo </span>m88k-dg-dgux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
      <span class="k">else</span>
<span class="k">    </span><span class="nb">echo </span>m88k-dg-dguxbcs<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
      <span class="k">fi</span>
<span class="k">  else</span>
<span class="k">      </span><span class="nb">echo </span>i586-dg-dgux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    M88*:DolphinOS:*:*<span class="o">)</span> <span class="c"># DolphinOS (SVR3)</span>
  <span class="nb">echo </span>m88k-dolphin-sysv3
  <span class="nb">exit</span> ;;
    M88*:*:R3*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30">&#182;</a>
</div>
<p>Delta 88k system running SVR3</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>m88k-motorola-sysv3
  <span class="nb">exit</span> ;;
    XD88*:*:*:*<span class="o">)</span> <span class="c"># Tektronix XD88 system running UTekV (SVR3)</span>
  <span class="nb">echo </span>m88k-tektronix-sysv3
  <span class="nb">exit</span> ;;
    Tek43<span class="o">[</span>0-9<span class="o">][</span>0-9<span class="o">]</span>:UTek:*:*<span class="o">)</span> <span class="c"># Tektronix 4300 system running UTek (BSD)</span>
  <span class="nb">echo </span>m68k-tektronix-bsd
  <span class="nb">exit</span> ;;
    *:IRIX*:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-sgi-irix<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/-/_/g&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    ????????:AIX?:<span class="o">[</span>12<span class="o">]</span>.1:2<span class="o">)</span>   <span class="c"># AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.</span>
  <span class="nb">echo </span>romp-ibm-aix     <span class="c"># uname -m gives an 8 hex-code CPU id</span>
  <span class="nb">exit</span> ;;               <span class="c"># Note that: echo &quot;&#39;`uname -s`&#39;&quot; gives &#39;AIX &#39;</span>
    i*86:AIX:*:*<span class="o">)</span>
  <span class="nb">echo </span>i386-ibm-aix
  <span class="nb">exit</span> ;;
    ia64:AIX:*:*<span class="o">)</span>
  <span class="k">if</span> <span class="o">[</span> -x /usr/bin/oslevel <span class="o">]</span> ; <span class="k">then</span>
<span class="k">    </span><span class="nv">IBM_REV</span><span class="o">=</span><span class="sb">`</span>/usr/bin/oslevel<span class="sb">`</span>
  <span class="k">else</span>
<span class="k">    </span><span class="nv">IBM_REV</span><span class="o">=</span><span class="k">${</span><span class="nv">UNAME_VERSION</span><span class="k">}</span>.<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-ibm-aix<span class="k">${</span><span class="nv">IBM_REV</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:AIX:2:3<span class="o">)</span>
  <span class="k">if </span>grep bos325 /usr/include/stdio.h &gt;/dev/null 2&gt;&amp;1; <span class="k">then</span>
<span class="k">    </span><span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
    sed <span class="s1">&#39;s/^    //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31">&#182;</a>
</div>
<p>include <sys/systemcfg.h></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="s">    main()</span>
<span class="s">      {</span>
<span class="s">      if (!__power_pc())</span>
<span class="s">        exit(1);</span>
<span class="s">      puts(&quot;powerpc-ibm-aix3.2.5&quot;);</span>
<span class="s">      exit(0);</span>
<span class="s">      }</span>
<span class="s">EOF</span>
    <span class="k">if</span> <span class="nv">$CC_FOR_BUILD</span> -o <span class="nv">$dummy</span> <span class="nv">$dummy</span>.c <span class="o">&amp;&amp;</span> <span class="nv">SYSTEM_NAME</span><span class="o">=</span><span class="sb">`</span><span class="nv">$dummy</span><span class="sb">`</span>
    <span class="k">then</span>
<span class="k">      </span><span class="nb">echo</span> <span class="s2">&quot;$SYSTEM_NAME&quot;</span>
    <span class="k">else</span>
<span class="k">      </span><span class="nb">echo </span>rs6000-ibm-aix3.2.5
    <span class="k">fi</span>
<span class="k">  elif </span>grep bos324 /usr/include/stdio.h &gt;/dev/null 2&gt;&amp;1; <span class="k">then</span>
<span class="k">    </span><span class="nb">echo </span>rs6000-ibm-aix3.2.4
  <span class="k">else</span>
<span class="k">    </span><span class="nb">echo </span>rs6000-ibm-aix3.2
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    *:AIX:*:<span class="o">[</span>45<span class="o">])</span>
  <span class="nv">IBM_CPU_ID</span><span class="o">=</span><span class="sb">`</span>/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk <span class="s1">&#39;{ print $1 }&#39;</span><span class="sb">`</span>
  <span class="k">if</span> /usr/sbin/lsattr -El <span class="k">${</span><span class="nv">IBM_CPU_ID</span><span class="k">}</span> | grep <span class="s1">&#39; POWER&#39;</span> &gt;/dev/null 2&gt;&amp;1; <span class="k">then</span>
<span class="k">    </span><span class="nv">IBM_ARCH</span><span class="o">=</span>rs6000
  <span class="k">else</span>
<span class="k">    </span><span class="nv">IBM_ARCH</span><span class="o">=</span>powerpc
  <span class="k">fi</span>
<span class="k">  if</span> <span class="o">[</span> -x /usr/bin/oslevel <span class="o">]</span> ; <span class="k">then</span>
<span class="k">    </span><span class="nv">IBM_REV</span><span class="o">=</span><span class="sb">`</span>/usr/bin/oslevel<span class="sb">`</span>
  <span class="k">else</span>
<span class="k">    </span><span class="nv">IBM_REV</span><span class="o">=</span><span class="k">${</span><span class="nv">UNAME_VERSION</span><span class="k">}</span>.<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">IBM_ARCH</span><span class="k">}</span>-ibm-aix<span class="k">${</span><span class="nv">IBM_REV</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:AIX:*:*<span class="o">)</span>
  <span class="nb">echo </span>rs6000-ibm-aix
  <span class="nb">exit</span> ;;
    ibmrt:4.4BSD:*|romp-ibm:BSD:*<span class="o">)</span>
  <span class="nb">echo </span>romp-ibm-bsd4.4
  <span class="nb">exit</span> ;;
    ibmrt:*BSD:*|romp-ibm:BSD:*<span class="o">)</span>            <span class="c"># covers RT/PC BSD and</span>
  <span class="nb">echo </span>romp-ibm-bsd<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>   <span class="c"># 4.3 with uname added to</span>
  <span class="nb">exit</span> ;;                             <span class="c"># report: romp-ibm BSD 4.3</span>
    *:BOSX:*:*<span class="o">)</span>
  <span class="nb">echo </span>rs6000-bull-bosx
  <span class="nb">exit</span> ;;
    DPX/2?00:B.O.S.:*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-bull-sysv3
  <span class="nb">exit</span> ;;
    9000/<span class="o">[</span>34<span class="o">]</span>??:4.3bsd:1.*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-hp-bsd
  <span class="nb">exit</span> ;;
    hp300:4.4BSD:*:* | 9000/<span class="o">[</span>34<span class="o">]</span>??:4.3bsd:2.*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-hp-bsd4.4
  <span class="nb">exit</span> ;;
    9000/<span class="o">[</span>34678<span class="o">]</span>??:HP-UX:*:*<span class="o">)</span>
  <span class="nv">HPUX_REV</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*.[0B]*//&#39;</span><span class="sb">`</span>
  <span class="k">case</span> <span class="s2">&quot;${UNAME_MACHINE}&quot;</span> in
      9000/31? <span class="o">)</span>            <span class="nv">HP_ARCH</span><span class="o">=</span>m68000 ;;
      9000/<span class="o">[</span>34<span class="o">]</span>?? <span class="o">)</span>         <span class="nv">HP_ARCH</span><span class="o">=</span>m68k ;;
      9000/<span class="o">[</span>678<span class="o">][</span>0-9<span class="o">][</span>0-9<span class="o">])</span>
    <span class="k">if</span> <span class="o">[</span> -x /usr/bin/getconf <span class="o">]</span>; <span class="k">then</span>
<span class="k">        </span><span class="nv">sc_cpu_version</span><span class="o">=</span><span class="sb">`</span>/usr/bin/getconf SC_CPU_VERSION 2&gt;/dev/null<span class="sb">`</span>
                    <span class="nv">sc_kernel_bits</span><span class="o">=</span><span class="sb">`</span>/usr/bin/getconf SC_KERNEL_BITS 2&gt;/dev/null<span class="sb">`</span>
                    <span class="k">case</span> <span class="s2">&quot;${sc_cpu_version}&quot;</span> in
                      523<span class="o">)</span> <span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa1.0&quot;</span> ;; <span class="c"># CPU_PA_RISC1_0</span>
                      528<span class="o">)</span> <span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa1.1&quot;</span> ;; <span class="c"># CPU_PA_RISC1_1</span>
                      532<span class="o">)</span>                      <span class="c"># CPU_PA_RISC2_0</span>
                        <span class="k">case</span> <span class="s2">&quot;${sc_kernel_bits}&quot;</span> in
                          32<span class="o">)</span> <span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa2.0n&quot;</span> ;;
                          64<span class="o">)</span> <span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa2.0w&quot;</span> ;;
        <span class="s1">&#39;&#39;</span><span class="o">)</span> <span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa2.0&quot;</span> ;;   <span class="c"># HP-UX 10.20</span>
                        <span class="k">esac</span> ;;
                    <span class="k">esac</span>
<span class="k">    fi</span>
<span class="k">    if</span> <span class="o">[</span> <span class="s2">&quot;${HP_ARCH}&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">        </span><span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
        sed <span class="s1">&#39;s/^              //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32">&#182;</a>
</div>
<p>define _HPUX_SOURCE
include <stdlib.h>
include <unistd.h></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="s">              int main ()</span>
<span class="s">              {</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33">&#182;</a>
</div>
<p>if defined(_SC_KERNEL_BITS)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">                  long bits = sysconf(_SC_KERNEL_BITS);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">                  long cpu  = sysconf (_SC_CPU_VERSION);</span>

<span class="s">                  switch (cpu)</span>
<span class="s">                {</span>
<span class="s">                case CPU_PA_RISC1_0: puts (&quot;hppa1.0&quot;); break;</span>
<span class="s">                case CPU_PA_RISC1_1: puts (&quot;hppa1.1&quot;); break;</span>
<span class="s">                case CPU_PA_RISC2_0:</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35">&#182;</a>
</div>
<p>if defined(_SC_KERNEL_BITS)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">                    switch (bits)</span>
<span class="s">                  {</span>
<span class="s">                  case 64: puts (&quot;hppa2.0w&quot;); break;</span>
<span class="s">                  case 32: puts (&quot;hppa2.0n&quot;); break;</span>
<span class="s">                  default: puts (&quot;hppa2.0&quot;); break;</span>
<span class="s">                  } break;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<p>else  /* !defined(_SC_KERNEL_BITS) */</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">                    puts (&quot;hppa2.0&quot;); break;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">                default: puts (&quot;hppa1.0&quot;); break;</span>
<span class="s">                }</span>
<span class="s">                  exit (0);</span>
<span class="s">              }</span>
<span class="s">EOF</span>
        <span class="o">(</span><span class="nv">CCOPTS</span><span class="o">=</span> <span class="nv">$CC_FOR_BUILD</span> -o <span class="nv">$dummy</span> <span class="nv">$dummy</span>.c 2&gt;/dev/null<span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="nv">HP_ARCH</span><span class="o">=</span><span class="sb">`</span><span class="nv">$dummy</span><span class="sb">`</span>
        <span class="nb">test</span> -z <span class="s2">&quot;$HP_ARCH&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">HP_ARCH</span><span class="o">=</span>hppa
    <span class="k">fi</span> ;;
  <span class="k">esac</span>
<span class="k">  if</span> <span class="o">[</span> <span class="k">${</span><span class="nv">HP_ARCH</span><span class="k">}</span> <span class="o">=</span> <span class="s2">&quot;hppa2.0w&quot;</span> <span class="o">]</span>
  <span class="k">then</span>
<span class="k">      </span><span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38">&#182;</a>
</div>
<p>hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
generating 64-bit code.  GNU and HP use different nomenclature:</p>

<p>$ CC_FOR_BUILD=cc ./config.guess
=> hppa2.0w-hp-hpux11.23
$ CC_FOR_BUILD="cc +DA2.0w" ./config.guess
=> hppa64-hp-hpux11.23</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

      <span class="k">if </span><span class="nb">echo </span>__LP64__ | <span class="o">(</span><span class="nv">CCOPTS</span><span class="o">=</span> <span class="nv">$CC_FOR_BUILD</span> -E - 2&gt;/dev/null<span class="o">)</span> |
    grep __LP64__ &gt;/dev/null
      <span class="k">then</span>
<span class="k">    </span><span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa2.0w&quot;</span>
      <span class="k">else</span>
<span class="k">    </span><span class="nv">HP_ARCH</span><span class="o">=</span><span class="s2">&quot;hppa64&quot;</span>
      <span class="k">fi</span>
<span class="k">  fi</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">HP_ARCH</span><span class="k">}</span>-hp-hpux<span class="k">${</span><span class="nv">HPUX_REV</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    ia64:HP-UX:*:*<span class="o">)</span>
  <span class="nv">HPUX_REV</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*.[0B]*//&#39;</span><span class="sb">`</span>
  <span class="nb">echo </span>ia64-hp-hpux<span class="k">${</span><span class="nv">HPUX_REV</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    3050*:HI-UX:*:*<span class="o">)</span>
  <span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
  sed <span class="s1">&#39;s/^  //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39">&#182;</a>
</div>
<p>include <unistd.h></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  int</span>
<span class="s">  main ()</span>
<span class="s">  {</span>
<span class="s">    long cpu = sysconf (_SC_CPU_VERSION);</span>
<span class="s">    /* The order matters, because CPU_IS_HP_MC68K erroneously returns</span>
<span class="s">       true for CPU_PA_RISC1_0.  CPU_IS_PA_RISC returns correct</span>
<span class="s">       results, however.  */</span>
<span class="s">    if (CPU_IS_PA_RISC (cpu))</span>
<span class="s">      {</span>
<span class="s">        switch (cpu)</span>
<span class="s">    {</span>
<span class="s">      case CPU_PA_RISC1_0: puts (&quot;hppa1.0-hitachi-hiuxwe2&quot;); break;</span>
<span class="s">      case CPU_PA_RISC1_1: puts (&quot;hppa1.1-hitachi-hiuxwe2&quot;); break;</span>
<span class="s">      case CPU_PA_RISC2_0: puts (&quot;hppa2.0-hitachi-hiuxwe2&quot;); break;</span>
<span class="s">      default: puts (&quot;hppa-hitachi-hiuxwe2&quot;); break;</span>
<span class="s">    }</span>
<span class="s">      }</span>
<span class="s">    else if (CPU_IS_HP_MC68K (cpu))</span>
<span class="s">      puts (&quot;m68k-hitachi-hiuxwe2&quot;);</span>
<span class="s">    else puts (&quot;unknown-hitachi-hiuxwe2&quot;);</span>
<span class="s">    exit (0);</span>
<span class="s">  }</span>
<span class="s">EOF</span>
  <span class="nv">$CC_FOR_BUILD</span> -o <span class="nv">$dummy</span> <span class="nv">$dummy</span>.c <span class="o">&amp;&amp;</span> <span class="nv">SYSTEM_NAME</span><span class="o">=</span><span class="sb">`</span><span class="nv">$dummy</span><span class="sb">`</span> <span class="o">&amp;&amp;</span>
    <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;$SYSTEM_NAME&quot;</span>; <span class="nb">exit</span>; <span class="o">}</span>
  <span class="nb">echo </span>unknown-hitachi-hiuxwe2
  <span class="nb">exit</span> ;;
    9000/7??:4.3bsd:*:* | 9000/8?<span class="o">[</span>79<span class="o">]</span>:4.3bsd:*:* <span class="o">)</span>
  <span class="nb">echo </span>hppa1.1-hp-bsd
  <span class="nb">exit</span> ;;
    9000/8??:4.3bsd:*:*<span class="o">)</span>
  <span class="nb">echo </span>hppa1.0-hp-bsd
  <span class="nb">exit</span> ;;
    *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*<span class="o">)</span>
  <span class="nb">echo </span>hppa1.0-hp-mpeix
  <span class="nb">exit</span> ;;
    hp7??:OSF1:*:* | hp8?<span class="o">[</span>79<span class="o">]</span>:OSF1:*:* <span class="o">)</span>
  <span class="nb">echo </span>hppa1.1-hp-osf
  <span class="nb">exit</span> ;;
    hp8??:OSF1:*:*<span class="o">)</span>
  <span class="nb">echo </span>hppa1.0-hp-osf
  <span class="nb">exit</span> ;;
    i*86:OSF1:*:*<span class="o">)</span>
  <span class="k">if</span> <span class="o">[</span> -x /usr/sbin/sysversion <span class="o">]</span> ; <span class="k">then</span>
<span class="k">      </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-osf1mk
  <span class="k">else</span>
<span class="k">      </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-osf1
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    parisc*:Lites*:*:*<span class="o">)</span>
  <span class="nb">echo </span>hppa1.1-hp-lites
  <span class="nb">exit</span> ;;
    C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*<span class="o">)</span>
  <span class="nb">echo </span>c1-convex-bsd
        <span class="nb">exit</span> ;;
    C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*<span class="o">)</span>
  <span class="k">if </span>getsysinfo -f scalar_acc
  <span class="k">then </span><span class="nb">echo </span>c32-convex-bsd
  <span class="k">else </span><span class="nb">echo </span>c2-convex-bsd
  <span class="k">fi</span>
<span class="k">        </span><span class="nb">exit</span> ;;
    C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*<span class="o">)</span>
  <span class="nb">echo </span>c34-convex-bsd
        <span class="nb">exit</span> ;;
    C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*<span class="o">)</span>
  <span class="nb">echo </span>c38-convex-bsd
        <span class="nb">exit</span> ;;
    C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*<span class="o">)</span>
  <span class="nb">echo </span>c4-convex-bsd
        <span class="nb">exit</span> ;;
    CRAY*Y-MP:*:*:*<span class="o">)</span>
  <span class="nb">echo </span>ymp-cray-unicos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/\.[^.]*$/.X/&#39;</span>
  <span class="nb">exit</span> ;;
    CRAY*<span class="o">[</span>A-Z<span class="o">]</span>90:*:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-cray-unicos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> <span class="se">\</span>
  | sed -e <span class="s1">&#39;s/CRAY.*\([A-Z]90\)/\1/&#39;</span> <span class="se">\</span>
        -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ <span class="se">\</span>
        -e <span class="s1">&#39;s/\.[^.]*$/.X/&#39;</span>
  <span class="nb">exit</span> ;;
    CRAY*TS:*:*:*<span class="o">)</span>
  <span class="nb">echo </span>t90-cray-unicos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/\.[^.]*$/.X/&#39;</span>
  <span class="nb">exit</span> ;;
    CRAY*T3E:*:*:*<span class="o">)</span>
  <span class="nb">echo </span>alphaev5-cray-unicosmk<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/\.[^.]*$/.X/&#39;</span>
  <span class="nb">exit</span> ;;
    CRAY*SV1:*:*:*<span class="o">)</span>
  <span class="nb">echo </span>sv1-cray-unicos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/\.[^.]*$/.X/&#39;</span>
  <span class="nb">exit</span> ;;
    *:UNICOS/mp:*:*<span class="o">)</span>
  <span class="nb">echo </span>craynv-cray-unicosmp<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/\.[^.]*$/.X/&#39;</span>
  <span class="nb">exit</span> ;;
    F30<span class="o">[</span>01<span class="o">]</span>:UNIX_System_V:*:* | F700:UNIX_System_V:*:*<span class="o">)</span>
  <span class="nv">FUJITSU_PROC</span><span class="o">=</span><span class="sb">`</span>uname -m | tr <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="sb">`</span>
        <span class="nv">FUJITSU_SYS</span><span class="o">=</span><span class="sb">`</span>uname -p | tr <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span> | sed -e <span class="s1">&#39;s/\///&#39;</span><span class="sb">`</span>
        <span class="nv">FUJITSU_REL</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed -e <span class="s1">&#39;s/ /_/&#39;</span><span class="sb">`</span>
        <span class="nb">echo</span> <span class="s2">&quot;${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}&quot;</span>
        <span class="nb">exit</span> ;;
    5000:UNIX_System_V:4.*:*<span class="o">)</span>
        <span class="nv">FUJITSU_SYS</span><span class="o">=</span><span class="sb">`</span>uname -p | tr <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span> | sed -e <span class="s1">&#39;s/\///&#39;</span><span class="sb">`</span>
        <span class="nv">FUJITSU_REL</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | tr <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span> | sed -e <span class="s1">&#39;s/ /_/&#39;</span><span class="sb">`</span>
        <span class="nb">echo</span> <span class="s2">&quot;sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}&quot;</span>
  <span class="nb">exit</span> ;;
    i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend<span class="se">\ </span>Embedded/OS:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-bsdi<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    sparc*:BSD/OS:*:*<span class="o">)</span>
  <span class="nb">echo </span>sparc-unknown-bsdi<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:BSD/OS:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-bsdi<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:FreeBSD:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-freebsd<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[-(].*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    i*:CYGWIN*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-cygwin
  <span class="nb">exit</span> ;;
    i*:MINGW*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-mingw32
  <span class="nb">exit</span> ;;
    i*:windows32*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40">&#182;</a>
</div>
<p>uname -m includes "-pc" on this system.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-mingw32
  <span class="nb">exit</span> ;;
    i*:PW*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-pw32
  <span class="nb">exit</span> ;;
    x86:Interix*:<span class="o">[</span>34<span class="o">]</span>*<span class="o">)</span>
  <span class="nb">echo </span>i586-pc-interix<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/\..*//&#39;</span>
  <span class="nb">exit</span> ;;
    <span class="o">[</span>345<span class="o">]</span>86:Windows_95:* | <span class="o">[</span>345<span class="o">]</span>86:Windows_98:* | <span class="o">[</span>345<span class="o">]</span>86:Windows_NT:*<span class="o">)</span>
  <span class="nb">echo </span>i<span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-mks
  <span class="nb">exit</span> ;;
    i*:Windows_NT*:* | Pentium*:Windows_NT*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41">&#182;</a>
</div>
<p>How do we know it's Interix rather than the generic POSIX subsystem?
It also conflicts with pre-2.0 versions of AT&amp;T UWIN. Should we
UNAME_MACHINE based on the output of uname instead of i386?</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>i586-pc-interix
  <span class="nb">exit</span> ;;
    i*:UWIN*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-uwin
  <span class="nb">exit</span> ;;
    amd64:CYGWIN*:*:*<span class="o">)</span>
  <span class="nb">echo </span>x86_64-unknown-cygwin
  <span class="nb">exit</span> ;;
    p*:CYGWIN*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpcle-unknown-cygwin
  <span class="nb">exit</span> ;;
    prep*:SunOS:5.*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpcle-unknown-solaris2<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[^.]*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    *:GNU:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42">&#182;</a>
</div>
<p>the GNU system</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s,[-/].*$,,&#39;</span><span class="sb">`</span>-unknown-gnu<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s,/.*$,,&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    *:GNU/*:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43">&#182;</a>
</div>
<p>other systems with GNU libc and userland</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_SYSTEM</span><span class="k">}</span> | sed <span class="s1">&#39;s,^[^/]*/,,&#39;</span> | tr <span class="s1">&#39;[A-Z]&#39;</span> <span class="s1">&#39;[a-z]&#39;</span><span class="sb">``</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[-(].*//&#39;</span><span class="sb">`</span>-gnu
  <span class="nb">exit</span> ;;
    i*86:Minix:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-minix
  <span class="nb">exit</span> ;;
    arm*:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    cris:Linux:*:*<span class="o">)</span>
  <span class="nb">echo </span>cris-axis-linux-gnu
  <span class="nb">exit</span> ;;
    crisv32:Linux:*:*<span class="o">)</span>
  <span class="nb">echo </span>crisv32-axis-linux-gnu
  <span class="nb">exit</span> ;;
    frv:Linux:*:*<span class="o">)</span>
      <span class="nb">echo </span>frv-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    ia64:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    m32r*:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    m68*:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    mips:Linux:*:*<span class="o">)</span>
  <span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
  sed <span class="s1">&#39;s/^  //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44">&#182;</a>
</div>
<p>undef CPU
undef mips
undef mipsel
if defined(<strong>MIPSEL</strong>) || defined(<em>_MIPSEL) || defined(</em>MIPSEL) || defined(MIPSEL)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  CPU=mipsel</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45">&#182;</a>
</div>
<p>else
if defined(<strong>MIPSEB</strong>) || defined(<em>_MIPSEB) || defined(</em>MIPSEB) || defined(MIPSEB)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  CPU=mips</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  CPU=</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47">&#182;</a>
</div>
<p>endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">EOF</span>
  <span class="nb">eval</span> <span class="sb">`</span><span class="nv">$CC_FOR_BUILD</span> -E <span class="nv">$dummy</span>.c 2&gt;/dev/null | grep ^CPU<span class="o">=</span><span class="sb">`</span>
  <span class="nb">test </span>x<span class="s2">&quot;${CPU}&quot;</span> !<span class="o">=</span> x <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;${CPU}-unknown-linux-gnu&quot;</span>; <span class="nb">exit</span>; <span class="o">}</span>
  ;;
    mips64:Linux:*:*<span class="o">)</span>
  <span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
  sed <span class="s1">&#39;s/^  //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48">&#182;</a>
</div>
<p>undef CPU
undef mips64
undef mips64el
if defined(<strong>MIPSEL</strong>) || defined(<em>_MIPSEL) || defined(</em>MIPSEL) || defined(MIPSEL)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  CPU=mips64el</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49">&#182;</a>
</div>
<p>else
if defined(<strong>MIPSEB</strong>) || defined(<em>_MIPSEB) || defined(</em>MIPSEB) || defined(MIPSEB)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  CPU=mips64</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  CPU=</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51">&#182;</a>
</div>
<p>endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">EOF</span>
  <span class="nb">eval</span> <span class="sb">`</span><span class="nv">$CC_FOR_BUILD</span> -E <span class="nv">$dummy</span>.c 2&gt;/dev/null | grep ^CPU<span class="o">=</span><span class="sb">`</span>
  <span class="nb">test </span>x<span class="s2">&quot;${CPU}&quot;</span> !<span class="o">=</span> x <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;${CPU}-unknown-linux-gnu&quot;</span>; <span class="nb">exit</span>; <span class="o">}</span>
  ;;
    ppc:Linux:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    ppc64:Linux:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc64-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    alpha:Linux:*:*<span class="o">)</span>
  <span class="k">case</span> <span class="sb">`</span>sed -n <span class="s1">&#39;/^cpu model/s/^.*: \(.*\)/\1/p&#39;</span> &lt; /proc/cpuinfo<span class="sb">`</span> in
    EV5<span class="o">)</span>   <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphaev5 ;;
    EV56<span class="o">)</span>  <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphaev56 ;;
    PCA56<span class="o">)</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphapca56 ;;
    PCA57<span class="o">)</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphapca56 ;;
    EV6<span class="o">)</span>   <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphaev6 ;;
    EV67<span class="o">)</span>  <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphaev67 ;;
    EV68*<span class="o">)</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>alphaev68 ;;
        <span class="k">esac</span>
<span class="k">  </span>objdump --private-headers /bin/sh | grep ld.so.1 &gt;/dev/null
  <span class="k">if </span><span class="nb">test</span> <span class="s2">&quot;$?&quot;</span> <span class="o">=</span> 0 ; <span class="k">then </span><span class="nv">LIBC</span><span class="o">=</span><span class="s2">&quot;libc1&quot;</span> ; <span class="k">else </span><span class="nv">LIBC</span><span class="o">=</span><span class="s2">&quot;&quot;</span> ; <span class="k">fi</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu<span class="k">${</span><span class="nv">LIBC</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    parisc:Linux:*:* | hppa:Linux:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52">&#182;</a>
</div>
<p>Look for CPU level</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">case</span> <span class="sb">`</span>grep <span class="s1">&#39;^cpu[^a-z]*:&#39;</span> /proc/cpuinfo 2&gt;/dev/null | cut -d<span class="s1">&#39; &#39;</span> -f2<span class="sb">`</span> in
    PA7*<span class="o">)</span> <span class="nb">echo </span>hppa1.1-unknown-linux-gnu ;;
    PA8*<span class="o">)</span> <span class="nb">echo </span>hppa2.0-unknown-linux-gnu ;;
    *<span class="o">)</span>    <span class="nb">echo </span>hppa-unknown-linux-gnu ;;
  <span class="k">esac</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    parisc64:Linux:*:* | hppa64:Linux:*:*<span class="o">)</span>
  <span class="nb">echo </span>hppa64-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    s390:Linux:*:* | s390x:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-ibm-linux
  <span class="nb">exit</span> ;;
    sh64*:Linux:*:*<span class="o">)</span>
      <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    sh*:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    sparc:Linux:*:* | sparc64:Linux:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    x86_64:Linux:*:*<span class="o">)</span>
  <span class="nb">echo </span>x86_64-unknown-linux-gnu
  <span class="nb">exit</span> ;;
    i*86:Linux:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53">&#182;</a>
</div>
<p>The BFD linker knows what the default object file format is, so
first see if it will tell us. cd to the root directory to prevent
problems with other programs or directories called `ld' in the path.
Set LC_ALL=C to ensure ld outputs messages in English.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nv">ld_supported_targets</span><span class="o">=</span><span class="sb">`</span><span class="nb">cd</span> /; <span class="nv">LC_ALL</span><span class="o">=</span>C ld --help 2&gt;&amp;1 <span class="se">\</span>
       | sed -ne <span class="s1">&#39;/supported targets:/!d</span>
<span class="s1">            s/[   ][  ]*/ /g</span>
<span class="s1">            s/.*supported targets: *//</span>
<span class="s1">            s/ .*//</span>
<span class="s1">            p&#39;</span><span class="sb">`</span>
        <span class="k">case</span> <span class="s2">&quot;$ld_supported_targets&quot;</span> in
    elf32-i386<span class="o">)</span>
    <span class="nv">TENTATIVE</span><span class="o">=</span><span class="s2">&quot;${UNAME_MACHINE}-pc-linux-gnu&quot;</span>
    ;;
    a.out-i386-linux<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;${UNAME_MACHINE}-pc-linux-gnuaout&quot;</span>
    <span class="nb">exit</span> ;;
    coff-i386<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;${UNAME_MACHINE}-pc-linux-gnucoff&quot;</span>
    <span class="nb">exit</span> ;;
    <span class="s2">&quot;&quot;</span><span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54">&#182;</a>
</div>
<p>Either a pre-BFD a.out linker (linux-gnuoldld) or
one that does not give us useful --help.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">echo</span> <span class="s2">&quot;${UNAME_MACHINE}-pc-linux-gnuoldld&quot;</span>
    <span class="nb">exit</span> ;;
  <span class="k">esac</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55">&#182;</a>
</div>
<p>Determine whether the default compiler is a.out or elf</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
  sed <span class="s1">&#39;s/^  //&#39;</span> <span class="s">&lt;&lt; EOF &gt;$dummy.c</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56">&#182;</a>
</div>
<p>include <features.h>
ifdef <strong>ELF</strong>
ifdef <strong>GLIBC</strong>
 if <strong>GLIBC</strong> >= 2</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  LIBC=gnu</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  LIBC=gnulibc1</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58">&#182;</a>
</div>
<p>endif
else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  LIBC=gnulibc1</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59">&#182;</a>
</div>
<p>endif
else
ifdef __INTEL_COMPILER</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  LIBC=gnu</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  LIBC=gnuaout</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61">&#182;</a>
</div>
<p>endif
endif
ifdef <strong>dietlibc</strong></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  LIBC=dietlibc</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">EOF</span>
  <span class="nb">eval</span> <span class="sb">`</span><span class="nv">$CC_FOR_BUILD</span> -E <span class="nv">$dummy</span>.c 2&gt;/dev/null | grep ^LIBC<span class="o">=</span><span class="sb">`</span>
  <span class="nb">test </span>x<span class="s2">&quot;${LIBC}&quot;</span> !<span class="o">=</span> x <span class="o">&amp;&amp;</span> <span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">&quot;${UNAME_MACHINE}-pc-linux-${LIBC}&quot;</span>
    <span class="nb">exit</span>
  <span class="o">}</span>
  <span class="nb">test </span>x<span class="s2">&quot;${TENTATIVE}&quot;</span> !<span class="o">=</span> x <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;${TENTATIVE}&quot;</span>; <span class="nb">exit</span>; <span class="o">}</span>
  ;;
    i*86:DYNIX/ptx:4*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63">&#182;</a>
</div>
<p>ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
earlier versions are messed up and put the nodename in both
sysname and nodename.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>i386-sequent-sysv4
  <span class="nb">exit</span> ;;
    i*86:UNIX_SV:4.2MP:2.*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64">&#182;</a>
</div>
<p>Unixware is an offshoot of SVR4, but it has its own version
number series starting with 2...
I am not positive that other SVR4 systems won't match this,
I just have to hope.  -- rms.
Use sysv4.2uw... so that sysv4* matches it.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-sysv4.2uw<span class="k">${</span><span class="nv">UNAME_VERSION</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    i*86:OS/2:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65">&#182;</a>
</div>
<p>If we were able to find `uname', then EMX Unix compatibility
is probably installed.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-os2-emx
  <span class="nb">exit</span> ;;
    i*86:XTS-300:*:STOP<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-stop
  <span class="nb">exit</span> ;;
    i*86:atheos:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-atheos
  <span class="nb">exit</span> ;;
    i*86:syllable:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-syllable
  <span class="nb">exit</span> ;;
    i*86:LynxOS:2.*:* | i*86:LynxOS:3.<span class="o">[</span>01<span class="o">]</span>*:* | i*86:LynxOS:4.0*:*<span class="o">)</span>
  <span class="nb">echo </span>i386-unknown-lynxos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    i*86:*DOS:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-msdosdjgpp
  <span class="nb">exit</span> ;;
    i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*<span class="o">)</span>
  <span class="nv">UNAME_REL</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> | sed <span class="s1">&#39;s/\/MP$//&#39;</span><span class="sb">`</span>
  <span class="k">if </span>grep Novell /usr/include/link.h &gt;/dev/null 2&gt;/dev/null; <span class="k">then</span>
<span class="k">    </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-univel-sysv<span class="k">${</span><span class="nv">UNAME_REL</span><span class="k">}</span>
  <span class="k">else</span>
<span class="k">    </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-sysv<span class="k">${</span><span class="nv">UNAME_REL</span><span class="k">}</span>
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    i*86:*:5:<span class="o">[</span>678<span class="o">]</span>*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66">&#182;</a>
</div>
<p>UnixWare 7.x, OpenUNIX and OpenServer 6.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">case</span> <span class="sb">`</span>/bin/uname -X | grep <span class="s2">&quot;^Machine&quot;</span><span class="sb">`</span> in
      *486*<span class="o">)</span>       <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i486 ;;
      *Pentium<span class="o">)</span>      <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i586 ;;
      *Pent*|*Celeron<span class="o">)</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i686 ;;
  <span class="k">esac</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-sysv<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}${</span><span class="nv">UNAME_SYSTEM</span><span class="k">}${</span><span class="nv">UNAME_VERSION</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    i*86:*:3.2:*<span class="o">)</span>
  <span class="k">if </span><span class="nb">test</span> -f /usr/options/cb.name; <span class="k">then</span>
<span class="k">    </span><span class="nv">UNAME_REL</span><span class="o">=</span><span class="sb">`</span>sed -n <span class="s1">&#39;s/.*Version //p&#39;</span> &lt;/usr/options/cb.name<span class="sb">`</span>
    <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-isc<span class="nv">$UNAME_REL</span>
  <span class="k">elif</span> /bin/uname -X 2&gt;/dev/null &gt;/dev/null ; <span class="k">then</span>
<span class="k">    </span><span class="nv">UNAME_REL</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>/bin/uname -X|grep Release|sed -e <span class="s1">&#39;s/.*= //&#39;</span><span class="o">)</span><span class="sb">`</span>
    <span class="o">(</span>/bin/uname -X|grep i80486 &gt;/dev/null<span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i486
    <span class="o">(</span>/bin/uname -X|grep <span class="s1">&#39;^Machine.*Pentium&#39;</span> &gt;/dev/null<span class="o">)</span> <span class="se">\</span>
      <span class="o">&amp;&amp;</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i586
    <span class="o">(</span>/bin/uname -X|grep <span class="s1">&#39;^Machine.*Pent *II&#39;</span> &gt;/dev/null<span class="o">)</span> <span class="se">\</span>
      <span class="o">&amp;&amp;</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i686
    <span class="o">(</span>/bin/uname -X|grep <span class="s1">&#39;^Machine.*Pentium Pro&#39;</span> &gt;/dev/null<span class="o">)</span> <span class="se">\</span>
      <span class="o">&amp;&amp;</span> <span class="nv">UNAME_MACHINE</span><span class="o">=</span>i686
    <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-sco<span class="nv">$UNAME_REL</span>
  <span class="k">else</span>
<span class="k">    </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-sysv32
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    pc:*:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67">&#182;</a>
</div>
<p>Left here for compatibility:
uname -m prints for DJGPP always 'pc', but it prints nothing about
the processor, so we play safe by assuming i386.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>i386-pc-msdosdjgpp
        <span class="nb">exit</span> ;;
    Intel:Mach:3*:*<span class="o">)</span>
  <span class="nb">echo </span>i386-pc-mach3
  <span class="nb">exit</span> ;;
    paragon:*:*:*<span class="o">)</span>
  <span class="nb">echo </span>i860-intel-osf1
  <span class="nb">exit</span> ;;
    i860:*:4.*:*<span class="o">)</span> <span class="c"># i860-SVR4</span>
  <span class="k">if </span>grep Stardent /usr/include/sys/uadmin.h &gt;/dev/null 2&gt;&amp;1 ; <span class="k">then</span>
<span class="k">    </span><span class="nb">echo </span>i860-stardent-sysv<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span> <span class="c"># Stardent Vistra i860-SVR4</span>
  <span class="k">else</span> <span class="c"># Add other i860-SVR4 vendors below as they are discovered.</span>
    <span class="nb">echo </span>i860-unknown-sysv<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>  <span class="c"># Unknown i860-SVR4</span>
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    mini*:CTIX:SYS*5:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68">&#182;</a>
</div>
<p>"miniframe"</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>m68010-convergent-sysv
  <span class="nb">exit</span> ;;
    mc68k:UNIX:SYSTEM5:3.51m<span class="o">)</span>
  <span class="nb">echo </span>m68k-convergent-sysv
  <span class="nb">exit</span> ;;
    M680?0:D-NIX:5.3:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-diab-dnix
  <span class="nb">exit</span> ;;
    M68*:*:R3V<span class="o">[</span>5678<span class="o">]</span>*:*<span class="o">)</span>
  <span class="nb">test</span> -r /sysV68 <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s1">&#39;m68k-motorola-sysv&#39;</span>; <span class="nb">exit</span>; <span class="o">}</span> ;;
    3<span class="o">[</span>345<span class="o">]</span>??:*:4.0:3.0 | 3<span class="o">[</span>34<span class="o">]</span>??A:*:4.0:3.0 | 3<span class="o">[</span>34<span class="o">]</span>??,*:*:4.0:3.0 | 3<span class="o">[</span>34<span class="o">]</span>??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0<span class="o">)</span>
  <span class="nv">OS_REL</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
  <span class="nb">test</span> -r /etc/.relid <span class="se">\</span>
  <span class="o">&amp;&amp;</span> <span class="nv">OS_REL</span><span class="o">=</span>.<span class="sb">`</span>sed -n <span class="s1">&#39;s/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p&#39;</span> &lt; /etc/.relid<span class="sb">`</span>
  /bin/uname -p 2&gt;/dev/null | grep 86 &gt;/dev/null <span class="se">\</span>
    <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo </span>i486-ncr-sysv4.3<span class="k">${</span><span class="nv">OS_REL</span><span class="k">}</span>; <span class="nb">exit</span>; <span class="o">}</span>
  /bin/uname -p 2&gt;/dev/null | /bin/grep entium &gt;/dev/null <span class="se">\</span>
    <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo </span>i586-ncr-sysv4.3<span class="k">${</span><span class="nv">OS_REL</span><span class="k">}</span>; <span class="nb">exit</span>; <span class="o">}</span> ;;
    3<span class="o">[</span>34<span class="o">]</span>??:*:4.0:* | 3<span class="o">[</span>34<span class="o">]</span>??,*:*:4.0:*<span class="o">)</span>
        /bin/uname -p 2&gt;/dev/null | grep 86 &gt;/dev/null <span class="se">\</span>
          <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo </span>i486-ncr-sysv4; <span class="nb">exit</span>; <span class="o">}</span> ;;
    m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-unknown-lynxos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    mc68030:UNIX_System_V:4.*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-atari-sysv4
  <span class="nb">exit</span> ;;
    TSUNAMI:LynxOS:2.*:*<span class="o">)</span>
  <span class="nb">echo </span>sparc-unknown-lynxos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    rs6000:LynxOS:2.*:*<span class="o">)</span>
  <span class="nb">echo </span>rs6000-unknown-lynxos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.<span class="o">[</span>01<span class="o">]</span>*:* | PowerPC:LynxOS:4.0*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-unknown-lynxos<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    SM<span class="o">[</span>BE<span class="o">]</span>S:UNIX_SV:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-dde-sysv<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    RM*:ReliantUNIX-*:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-sni-sysv4
  <span class="nb">exit</span> ;;
    RM*:SINIX-*:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-sni-sysv4
  <span class="nb">exit</span> ;;
    *:SINIX-*:*:*<span class="o">)</span>
  <span class="k">if </span>uname -p 2&gt;/dev/null &gt;/dev/null ; <span class="k">then</span>
<span class="k">    </span><span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>uname -p<span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span>
    <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-sni-sysv4
  <span class="k">else</span>
<span class="k">    </span><span class="nb">echo </span>ns32k-sni-sysv
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    PENTIUM:*:4.0*:*<span class="o">)</span> <span class="c"># Unisys `ClearPath HMP IX 4000&#39; SVR4/MP effort</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69">&#182;</a>
</div>
<p>says <a href="&#109;&#x61;&#105;&#x6C;&#116;&#x6F;:&#82;&#105;&#x63;&#x68;&#x61;&#x72;&#x64;&#46;&#77;&#46;&#x42;&#97;&#114;&#116;&#x65;&#x6C;&#64;&#x63;&#99;&#77;a&#105;&#108;&#46;C&#101;&#x6E;&#x73;&#117;&#x73;&#x2E;&#71;&#x4F;&#x56;">&#82;&#105;&#x63;&#x68;&#x61;&#x72;&#x64;&#46;&#77;&#46;&#x42;&#97;&#114;&#116;&#x65;&#x6C;&#64;&#x63;&#99;&#77;a&#105;&#108;&#46;C&#101;&#x6E;&#x73;&#117;&#x73;&#x2E;&#71;&#x4F;&#x56;</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nb">echo </span>i586-unisys-sysv4
        <span class="nb">exit</span> ;;
    *:UNIX_System_V:4*:FTX*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70">&#182;</a>
</div>
<p>From Gerald Hewes <a href="&#109;&#x61;&#105;&#108;&#116;&#x6F;:&#x68;e&#119;&#101;&#115;&#x40;&#x6F;&#x70;&#x65;&#110;&#109;&#x61;&#114;&#107;et&#46;&#x63;o&#x6D;">&#x68;e&#119;&#101;&#115;&#x40;&#x6F;&#x70;&#x65;&#110;&#109;&#x61;&#114;&#107;et&#46;&#x63;o&#x6D;</a>.
How about differentiating between stratus architectures? -djm</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>hppa1.1-stratus-sysv4
  <span class="nb">exit</span> ;;
    *:*:*:FTX*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71">&#182;</a>
</div>
<p>From <a href='mailto:seanf@swdc.stratus.com'>seanf@swdc.stratus.com</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>i860-stratus-sysv4
  <span class="nb">exit</span> ;;
    i*86:VOS:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72">&#182;</a>
</div>
<p>From <a href='mailto:Paul.Green@stratus.com'>Paul.Green@stratus.com</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-stratus-vos
  <span class="nb">exit</span> ;;
    *:VOS:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73">&#182;</a>
</div>
<p>From <a href='mailto:Paul.Green@stratus.com'>Paul.Green@stratus.com</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="nb">echo </span>hppa1.1-stratus-vos
  <span class="nb">exit</span> ;;
    mc68*:A/UX:*:*<span class="o">)</span>
  <span class="nb">echo </span>m68k-apple-aux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    news*:NEWS-OS:6*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-sony-newsos6
  <span class="nb">exit</span> ;;
    R<span class="o">[</span>34<span class="o">]</span>000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*<span class="o">)</span>
  <span class="k">if</span> <span class="o">[</span> -d /usr/nec <span class="o">]</span>; <span class="k">then</span>
<span class="k">          </span><span class="nb">echo </span>mips-nec-sysv<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="k">else</span>
<span class="k">          </span><span class="nb">echo </span>mips-unknown-sysv<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="k">fi</span>
<span class="k">        </span><span class="nb">exit</span> ;;
    BeBox:BeOS:*:*<span class="o">)</span> <span class="c"># BeOS running on hardware made by Be, PPC only.</span>
  <span class="nb">echo </span>powerpc-be-beos
  <span class="nb">exit</span> ;;
    BeMac:BeOS:*:*<span class="o">)</span> <span class="c"># BeOS running on Mac or Mac clone, PPC only.</span>
  <span class="nb">echo </span>powerpc-apple-beos
  <span class="nb">exit</span> ;;
    BePC:BeOS:*:*<span class="o">)</span>  <span class="c"># BeOS running on Intel PC compatible.</span>
  <span class="nb">echo </span>i586-pc-beos
  <span class="nb">exit</span> ;;
    SX-4:SUPER-UX:*:*<span class="o">)</span>
  <span class="nb">echo </span>sx4-nec-superux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    SX-5:SUPER-UX:*:*<span class="o">)</span>
  <span class="nb">echo </span>sx5-nec-superux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    SX-6:SUPER-UX:*:*<span class="o">)</span>
  <span class="nb">echo </span>sx6-nec-superux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    Power*:Rhapsody:*:*<span class="o">)</span>
  <span class="nb">echo </span>powerpc-apple-rhapsody<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:Rhapsody:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-apple-rhapsody<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:Darwin:*:*<span class="o">)</span>
  <span class="nv">UNAME_PROCESSOR</span><span class="o">=</span><span class="sb">`</span>uname -p<span class="sb">`</span> <span class="o">||</span> <span class="nv">UNAME_PROCESSOR</span><span class="o">=</span>unknown
  <span class="k">case</span> <span class="nv">$UNAME_PROCESSOR</span> in
      *86<span class="o">)</span> <span class="nv">UNAME_PROCESSOR</span><span class="o">=</span>i686 ;;
      unknown<span class="o">)</span> <span class="nv">UNAME_PROCESSOR</span><span class="o">=</span>powerpc ;;
  <span class="k">esac</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_PROCESSOR</span><span class="k">}</span>-apple-darwin<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:procnto*:*:* | *:QNX:<span class="o">[</span>0123456789<span class="o">]</span>*:*<span class="o">)</span>
  <span class="nv">UNAME_PROCESSOR</span><span class="o">=</span><span class="sb">`</span>uname -p<span class="sb">`</span>
  <span class="k">if </span><span class="nb">test</span> <span class="s2">&quot;$UNAME_PROCESSOR&quot;</span> <span class="o">=</span> <span class="s2">&quot;x86&quot;</span>; <span class="k">then</span>
<span class="k">    </span><span class="nv">UNAME_PROCESSOR</span><span class="o">=</span>i386
    <span class="nv">UNAME_MACHINE</span><span class="o">=</span>pc
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_PROCESSOR</span><span class="k">}</span>-<span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-nto-qnx<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:QNX:*:4*<span class="o">)</span>
  <span class="nb">echo </span>i386-pc-qnx
  <span class="nb">exit</span> ;;
    NSE-?:NONSTOP_KERNEL:*:*<span class="o">)</span>
  <span class="nb">echo </span>nse-tandem-nsk<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    NSR-?:NONSTOP_KERNEL:*:*<span class="o">)</span>
  <span class="nb">echo </span>nsr-tandem-nsk<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:NonStop-UX:*:*<span class="o">)</span>
  <span class="nb">echo </span>mips-compaq-nonstopux
  <span class="nb">exit</span> ;;
    BS2000:POSIX*:*:*<span class="o">)</span>
  <span class="nb">echo </span>bs2000-siemens-sysv
  <span class="nb">exit</span> ;;
    DS/*:UNIX_System_V:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-<span class="k">${</span><span class="nv">UNAME_SYSTEM</span><span class="k">}</span>-<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:Plan9:*:*<span class="o">)</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74">&#182;</a>
</div>
<p>"uname -m" is not consistent, so use $cputype instead. 386
is converted to i386 for consistency with other x86
operating systems.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if </span><span class="nb">test</span> <span class="s2">&quot;$cputype&quot;</span> <span class="o">=</span> <span class="s2">&quot;386&quot;</span>; <span class="k">then</span>
<span class="k">      </span><span class="nv">UNAME_MACHINE</span><span class="o">=</span>i386
  <span class="k">else</span>
<span class="k">      </span><span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="s2">&quot;$cputype&quot;</span>
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-plan9
  <span class="nb">exit</span> ;;
    *:TOPS-10:*:*<span class="o">)</span>
  <span class="nb">echo </span>pdp10-unknown-tops10
  <span class="nb">exit</span> ;;
    *:TENEX:*:*<span class="o">)</span>
  <span class="nb">echo </span>pdp10-unknown-tenex
  <span class="nb">exit</span> ;;
    KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*<span class="o">)</span>
  <span class="nb">echo </span>pdp10-dec-tops20
  <span class="nb">exit</span> ;;
    XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*<span class="o">)</span>
  <span class="nb">echo </span>pdp10-xkl-tops20
  <span class="nb">exit</span> ;;
    *:TOPS-20:*:*<span class="o">)</span>
  <span class="nb">echo </span>pdp10-unknown-tops20
  <span class="nb">exit</span> ;;
    *:ITS:*:*<span class="o">)</span>
  <span class="nb">echo </span>pdp10-unknown-its
  <span class="nb">exit</span> ;;
    SEI:*:*:SEIUX<span class="o">)</span>
        <span class="nb">echo </span>mips-sei-seiux<span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>
  <span class="nb">exit</span> ;;
    *:DragonFly:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-unknown-dragonfly<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span>|sed -e <span class="s1">&#39;s/[-(].*//&#39;</span><span class="sb">`</span>
  <span class="nb">exit</span> ;;
    *:*VMS:*:*<span class="o">)</span>
      <span class="nv">UNAME_MACHINE</span><span class="o">=</span><span class="sb">`</span><span class="o">(</span>uname -p<span class="o">)</span> 2&gt;/dev/null<span class="sb">`</span>
  <span class="k">case</span> <span class="s2">&quot;${UNAME_MACHINE}&quot;</span> in
      A*<span class="o">)</span> <span class="nb">echo </span>alpha-dec-vms ; <span class="nb">exit</span> ;;
      I*<span class="o">)</span> <span class="nb">echo </span>ia64-dec-vms ; <span class="nb">exit</span> ;;
      V*<span class="o">)</span> <span class="nb">echo </span>vax-dec-vms ; <span class="nb">exit</span> ;;
  <span class="k">esac</span> ;;
    *:XENIX:*:SysV<span class="o">)</span>
  <span class="nb">echo </span>i386-pc-xenix
  <span class="nb">exit</span> ;;
    i*86:skyos:*:*<span class="o">)</span>
  <span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_MACHINE</span><span class="k">}</span>-pc-skyos<span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">UNAME_RELEASE</span><span class="k">}</span><span class="sb">`</span> | sed -e <span class="s1">&#39;s/ .*$//&#39;</span>
  <span class="nb">exit</span> ;;
<span class="k">esac</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75">&#182;</a>
</div>
<p>echo '(No uname command or uname output not recognized.)' 1>&amp;2
echo "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" 1>&amp;2</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nb">eval</span> <span class="nv">$set_cc_for_build</span>
cat &gt;<span class="nv">$dummy</span>.c <span class="s">&lt;&lt;EOF</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76">&#182;</a>
</div>
<p>ifdef <em>SEQUENT</em>
include <sys/types.h>
include <sys/utsname.h>
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">main ()</span>
<span class="s">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77">&#182;</a>
</div>
<p>if defined (sony)
if defined (MIPSEB)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  /* BFD wants &quot;bsd&quot; instead of &quot;newsos&quot;.  Perhaps BFD should be changed,</span>
<span class="s">     I don&#39;t know....  */</span>
<span class="s">  printf (&quot;mips-sony-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78">&#182;</a>
</div>
<p>else
include <sys/param.h></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;m68k-sony-newsos%s\n&quot;,</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79">&#182;</a>
</div>
<p>ifdef NEWSOS4</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">          &quot;4&quot;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    &quot;&quot;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">         ); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82">&#182;</a>
</div>
<p>endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83">&#182;</a>
</div>
<p>if defined (<strong>arm) &amp;&amp; defined (</strong>acorn) &amp;&amp; defined (__unix)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;arm-acorn-riscix\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85">&#182;</a>
</div>
<p>if defined (hp300) &amp;&amp; !defined (hpux)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;m68k-hp-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87">&#182;</a>
</div>
<p>if defined (NeXT)
if !defined (<strong>ARCHITECTURE</strong>)
define <strong>ARCHITECTURE</strong> "m68k"
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  int version;</span>
<span class="s">  version=`(hostinfo | sed -n &#39;s/.*NeXT Mach \([0-9]*\).*/\1/p&#39;) 2&gt;/dev/null`;</span>
<span class="s">  if (version &lt; 4)</span>
<span class="s">    printf (&quot;%s-next-nextstep%d\n&quot;, __ARCHITECTURE__, version);</span>
<span class="s">  else</span>
<span class="s">    printf (&quot;%s-next-openstep%d\n&quot;, __ARCHITECTURE__, version);</span>
<span class="s">  exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89">&#182;</a>
</div>
<p>if defined (MULTIMAX) || defined (n16)
if defined (UMAXV)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;ns32k-encore-sysv\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90">&#182;</a>
</div>
<p>else
if defined (CMU)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;ns32k-encore-mach\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;ns32k-encore-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92">&#182;</a>
</div>
<p>endif
endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93">&#182;</a>
</div>
<p>if defined (<strong>386BSD</strong>)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;i386-pc-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95">&#182;</a>
</div>
<p>if defined (sequent)
if defined (i386)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;i386-sequent-dynix\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96">&#182;</a>
</div>
<p>endif
if defined (ns32000)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;ns32k-sequent-dynix\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97">&#182;</a>
</div>
<p>endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98">&#182;</a>
</div>
<p>if defined (<em>SEQUENT</em>)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    struct utsname un;</span>

<span class="s">    uname(&amp;un);</span>

<span class="s">    if (strncmp(un.version, &quot;V2&quot;, 2) == 0) {</span>
<span class="s">  printf (&quot;i386-sequent-ptx2\n&quot;); exit (0);</span>
<span class="s">    }</span>
<span class="s">    if (strncmp(un.version, &quot;V1&quot;, 2) == 0) { /* XXX is V1 correct? */</span>
<span class="s">  printf (&quot;i386-sequent-ptx1\n&quot;); exit (0);</span>
<span class="s">    }</span>
<span class="s">    printf (&quot;i386-sequent-ptx\n&quot;); exit (0);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100">&#182;</a>
</div>
<p>if defined (vax)
if !defined (ultrix)
 include <sys/param.h>
 if defined (BSD)
  if BSD == 43</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">      printf (&quot;vax-dec-bsd4.3\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101">&#182;</a>
</div>
<p>else
   if BSD == 199006</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">      printf (&quot;vax-dec-bsd4.3reno\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102">&#182;</a>
</div>
<p>else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">      printf (&quot;vax-dec-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103">&#182;</a>
</div>
<p>endif
  endif
 else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    printf (&quot;vax-dec-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104">&#182;</a>
</div>
<p>endif
else</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">    printf (&quot;vax-dec-ultrix\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105">&#182;</a>
</div>
<p>endif
endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106">&#182;</a>
</div>
<p>if defined (alliant) &amp;&amp; defined (i860)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="s">  printf (&quot;i860-alliant-bsd\n&quot;); exit (0);</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107">&#182;</a>
</div>
<p>endif</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="s">  exit (1);</span>
<span class="s">}</span>
<span class="s">EOF</span>

<span class="nv">$CC_FOR_BUILD</span> -o <span class="nv">$dummy</span> <span class="nv">$dummy</span>.c 2&gt;/dev/null <span class="o">&amp;&amp;</span> <span class="nv">SYSTEM_NAME</span><span class="o">=</span><span class="sb">`</span><span class="nv">$dummy</span><span class="sb">`</span> <span class="o">&amp;&amp;</span>
  <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;$SYSTEM_NAME&quot;</span>; <span class="nb">exit</span>; <span class="o">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108">&#182;</a>
</div>
<p>Apollos put the system type in the environment.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nb">test</span> -d /usr/apollo <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo</span> <span class="k">${</span><span class="nv">ISP</span><span class="k">}</span>-apollo-<span class="k">${</span><span class="nv">SYSTYPE</span><span class="k">}</span>; <span class="nb">exit</span>; <span class="o">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109">&#182;</a>
</div>
<p>Convex versions that predate uname can use getsysinfo(1)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="k">if</span> <span class="o">[</span> -x /usr/convex/getsysinfo <span class="o">]</span>
<span class="k">then</span>
<span class="k">    case</span> <span class="sb">`</span>getsysinfo -f cpu_type<span class="sb">`</span> in
    c1*<span class="o">)</span>
  <span class="nb">echo </span>c1-convex-bsd
  <span class="nb">exit</span> ;;
    c2*<span class="o">)</span>
  <span class="k">if </span>getsysinfo -f scalar_acc
  <span class="k">then </span><span class="nb">echo </span>c32-convex-bsd
  <span class="k">else </span><span class="nb">echo </span>c2-convex-bsd
  <span class="k">fi</span>
<span class="k">  </span><span class="nb">exit</span> ;;
    c34*<span class="o">)</span>
  <span class="nb">echo </span>c34-convex-bsd
  <span class="nb">exit</span> ;;
    c38*<span class="o">)</span>
  <span class="nb">echo </span>c38-convex-bsd
  <span class="nb">exit</span> ;;
    c4*<span class="o">)</span>
  <span class="nb">echo </span>c4-convex-bsd
  <span class="nb">exit</span> ;;
    <span class="k">esac</span>
<span class="k">fi</span>

cat &gt;&amp;2 <span class="s">&lt;&lt;EOF</span>
<span class="s">$0: unable to guess system type</span>

<span class="s">This script, last modified $timestamp, has failed to recognize</span>
<span class="s">the operating system you are using. It is advised that you</span>
<span class="s">download the most up to date version of the config scripts from</span>

<span class="s">  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.guess</span>
<span class="s">and</span>
<span class="s">  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.sub</span>

<span class="s">If the version you run ($0) is already up to date, please</span>
<span class="s">send the following data and any information you think might be</span>
<span class="s">pertinent to &lt;config-patches@gnu.org&gt; in order to provide the needed</span>
<span class="s">information to handle your system.</span>

<span class="s">config.guess timestamp = $timestamp</span>

<span class="s">uname -m = `(uname -m) 2&gt;/dev/null || echo unknown`</span>
<span class="s">uname -r = `(uname -r) 2&gt;/dev/null || echo unknown`</span>
<span class="s">uname -s = `(uname -s) 2&gt;/dev/null || echo unknown`</span>
<span class="s">uname -v = `(uname -v) 2&gt;/dev/null || echo unknown`</span>

<span class="s">/usr/bin/uname -p = `(/usr/bin/uname -p) 2&gt;/dev/null`</span>
<span class="s">/bin/uname -X     = `(/bin/uname -X) 2&gt;/dev/null`</span>

<span class="s">hostinfo               = `(hostinfo) 2&gt;/dev/null`</span>
<span class="s">/bin/universe          = `(/bin/universe) 2&gt;/dev/null`</span>
<span class="s">/usr/bin/arch -k       = `(/usr/bin/arch -k) 2&gt;/dev/null`</span>
<span class="s">/bin/arch              = `(/bin/arch) 2&gt;/dev/null`</span>
<span class="s">/usr/bin/oslevel       = `(/usr/bin/oslevel) 2&gt;/dev/null`</span>
<span class="s">/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2&gt;/dev/null`</span>

<span class="s">UNAME_MACHINE = ${UNAME_MACHINE}</span>
<span class="s">UNAME_RELEASE = ${UNAME_RELEASE}</span>
<span class="s">UNAME_SYSTEM  = ${UNAME_SYSTEM}</span>
<span class="s">UNAME_VERSION = ${UNAME_VERSION}</span>
<span class="s">EOF</span>

<span class="nb">exit </span>1


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110">&#182;</a>
</div>
<p>Local variables:
eval: (add-hook 'write-file-hooks 'time-stamp)
time-stamp-start: "timestamp='"
time-stamp-format: "%:y-%02m-%02d"
time-stamp-end: "'"
End:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
